{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/auth/auth.component.ts","./src/app/auth/auth.component.html","./src/app/auth/goal-container/goal-container.component.ts","./src/app/auth/goal-container/goal-container.component.html","./src/app/auth/goals/goals.ts","./src/app/auth/goals/join-room/join-room.component.ts","./src/app/auth/goals/join-room/join-room.component.html","./src/app/auth/goals/sign-in/sign-in.component.ts","./src/app/auth/goals/sign-in/sign-in.component.html","./src/app/auth/goals/sign-up/sign-up.component.ts","./src/app/auth/goals/sign-up/sign-up.component.html","./src/app/handler.ts","./src/app/home/activities/activities.ts","./src/app/home/activities/chat/chat-message.directive.ts","./src/app/home/activities/chat/chat-message/chat-message.component.ts","./src/app/home/activities/chat/chat-message/chat-message.component.html","./src/app/home/activities/chat/chat.component.ts","./src/app/home/activities/chat/chat.component.html","./src/app/home/activities/settings/room-invitation.directive.ts","./src/app/home/activities/settings/room-invitation/room-invitation.component.ts","./src/app/home/activities/settings/room-invitation/room-invitation.component.html","./src/app/home/activities/settings/room-link.directive.ts","./src/app/home/activities/settings/room-link/room-link.component.ts","./src/app/home/activities/settings/room-link/room-link.component.html","./src/app/home/activities/settings/settings.component.ts","./src/app/home/activities/settings/settings.component.html","./src/app/home/activities/stats/loading-monetization/loading-monetization.component.ts","./src/app/home/activities/stats/loading-monetization/loading-monetization.component.html","./src/app/home/activities/stats/monetized/monetized.component.ts","./src/app/home/activities/stats/monetized/monetized.component.html","./src/app/home/activities/stats/not-monetized/not-monetized.component.ts","./src/app/home/activities/stats/not-monetized/not-monetized.component.html","./src/app/home/activities/stats/stats.component.ts","./src/app/home/activities/stats/stats.component.html","./src/app/home/activities/store/store.component.ts","./src/app/home/activities/store/store.component.html","./src/app/home/activities/tasks.service.ts","./src/app/home/activities/tasks/list.directive.ts","./src/app/home/activities/tasks/list/filter-popup.directive.ts","./src/app/home/activities/tasks/list/filter-popup/filter-popup.component.ts","./src/app/home/activities/tasks/list/filter-popup/filter-popup.component.html","./src/app/home/activities/tasks/list/filter-popup/tag.directive.ts","./src/app/home/activities/tasks/list/filter-popup/tag/tag.component.ts","./src/app/home/activities/tasks/list/filter-popup/tag/tag.component.html","./src/app/home/activities/tasks/list/list.component.ts","./src/app/home/activities/tasks/list/list.component.html","./src/app/home/activities/tasks/list/task.directive.ts","./src/app/home/activities/tasks/list/task/task.component.ts","./src/app/home/activities/tasks/list/task/task.component.html","./src/app/home/activities/tasks/lists.service.ts","./src/app/home/activities/tasks/task-editor-popup.directive.ts","./src/app/home/activities/tasks/task-editor-popup/task-editor-popup.component.ts","./src/app/home/activities/tasks/task-editor-popup/task-editor-popup.component.html","./src/app/home/activities/tasks/tasks.component.ts","./src/app/home/activities/tasks/tasks.component.html","./src/app/home/activities/timer.service.ts","./src/app/home/activities/timer/timer.component.ts","./src/app/home/activities/timer/timer.component.html","./src/app/home/activity-container.component.ts","./src/app/home/activity-container.component.html","./src/app/home/header/header.component.ts","./src/app/home/header/header.component.html","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/app/home/menu/menu.component.ts","./src/app/home/menu/menu.component.html","./src/app/home/room-change.service.ts","./src/app/home/room/images.ts","./src/app/home/room/object-factory.ts","./src/app/home/room/room.component.ts","./src/app/home/room/room.component.html","./src/app/home/room/root/player/player-tooltip.directive.ts","./src/app/home/room/root/player/player-tooltip/player-tooltip.component.ts","./src/app/home/room/root/player/player-tooltip/player-tooltip.component.html","./src/app/home/room/root/player/player.ts","./src/app/home/room/root/tile-map.ts","./src/app/landing-page/landing-page/landing-page.component.ts","./src/app/landing-page/landing-page/landing-page.component.html","./src/app/panel-header/panel-header.component.ts","./src/app/panel-header/panel-header.component.html","./src/app/socket/socket.service.ts","./src/app/web-monetization/web-monetization.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { LandingPageComponent } from './landing-page/landing-page/landing-page.component';\r\nimport { AuthComponent } from './auth/auth.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LandingPageComponent\r\n\r\n  },\r\n  {\r\n    path: 'auth',\r\n    component: AuthComponent\r\n  },\r\n  {\r\n    path: 'auth/sign-in',\r\n    component: AuthComponent\r\n  },\r\n  {\r\n    path: 'auth/sign-up',\r\n    component: AuthComponent\r\n  },\r\n  {\r\n    path: 'home',\r\n    component: HomeComponent\r\n\r\n  },\r\n  {\r\n    path: 'home/room',\r\n    component: HomeComponent\r\n\r\n  },\r\n  {\r\n    path: 'home/store',\r\n    component: HomeComponent\r\n\r\n  },\r\n  {\r\n    path: 'home/stats',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: 'home/timer',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: 'home/chat',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: 'home/tasks/:taskId',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: 'home/tasks',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: 'home/settings',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: 'j/:roomId',\r\n    component: AuthComponent,\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'cowork';\r\n}\r\n","<router-outlet></router-outlet>","import { BrowserModule } from '@angular/platform-browser';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { NgModule } from '@angular/core';\r\nimport { ClipboardModule } from '@angular/cdk/clipboard';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { HomeComponent } from './home/home.component';\r\nimport { MenuComponent } from './home/menu/menu.component';\r\nimport { HeaderComponent } from './home/header/header.component';\r\nimport { ActivityContainerComponent } from './home/activity-container.component';\r\nimport { PanelHeaderComponent } from './panel-header/panel-header.component';\r\nimport { StoreComponent } from './home/activities/store/store.component';\r\nimport { ChatComponent } from './home/activities/chat/chat.component';\r\nimport { TimerComponent } from './home/activities/timer/timer.component';\r\nimport { TasksComponent } from './home/activities/tasks/tasks.component';\r\nimport { LandingPageComponent } from './landing-page/landing-page/landing-page.component';\r\nimport { RoomComponent } from './home/room/room.component';\r\nimport { SignInComponent } from './auth/goals/sign-in/sign-in.component';\r\nimport { SignUpComponent } from './auth/goals/sign-up/sign-up.component';\r\nimport { JoinRoomComponent } from './auth/goals/join-room/join-room.component';\r\nimport { AuthComponent } from './auth/auth.component';\r\nimport { GoalContainerComponent } from './auth/goal-container/goal-container.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { SettingsComponent } from './home/activities/settings/settings.component';\r\nimport { RoomLinkDirective } from './home/activities/settings/room-link.directive';\r\nimport { RoomLinkComponent } from './home/activities/settings/room-link/room-link.component';\r\nimport { ChatMessageDirective } from './home/activities/chat/chat-message.directive';\r\nimport { ChatMessageComponent } from './home/activities/chat/chat-message/chat-message.component';\r\nimport { RoomInvitationDirective } from './home/activities/settings/room-invitation.directive';\r\nimport { RoomInvitationComponent } from './home/activities/settings/room-invitation/room-invitation.component';\r\nimport { ListDirective } from './home/activities/tasks/list.directive';\r\nimport { ListComponent } from './home/activities/tasks/list/list.component';\r\nimport { TaskComponent } from './home/activities/tasks/list/task/task.component';\r\nimport { TaskDirective } from './home/activities/tasks/list/task.directive';\r\nimport { DragDropModule } from '@angular/cdk/drag-drop';\r\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\r\nimport { StatsComponent } from './home/activities/stats/stats.component';\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { environment } from '../environments/environment';\r\nimport { TaskEditorPopupComponent } from './home/activities/tasks/task-editor-popup/task-editor-popup.component';\r\nimport { TaskEditorPopupDirective } from './home/activities/tasks/task-editor-popup.directive';\r\nimport { PlayerTooltipDirective } from './home/room/root/player/player-tooltip.directive';\r\nimport { PlayerTooltipComponent } from './home/room/root/player/player-tooltip/player-tooltip.component';\r\nimport { NotMonetizedComponent } from './home/activities/stats/not-monetized/not-monetized.component';\r\nimport { LoadingMonetizationComponent } from './home/activities/stats/loading-monetization/loading-monetization.component';\r\nimport { MonetizedComponent } from './home/activities/stats/monetized/monetized.component';\nimport { FilterPopupComponent } from './home/activities/tasks/list/filter-popup/filter-popup.component';\nimport { FilterPopupDirective } from './home/activities/tasks/list/filter-popup.directive';\nimport { TagComponent } from './home/activities/tasks/list/filter-popup/tag/tag.component';\nimport { TagDirective } from './home/activities/tasks/list/filter-popup/tag.directive';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomeComponent,\r\n    MenuComponent,\r\n    HeaderComponent,\r\n    ActivityContainerComponent,\r\n    PanelHeaderComponent,\r\n    StoreComponent,\r\n    ChatComponent,\r\n    TimerComponent,\r\n    TasksComponent,\r\n    StatsComponent,\r\n    LandingPageComponent,\r\n    RoomComponent,\r\n    GoalContainerComponent,\r\n    SignInComponent,\r\n    SignUpComponent,\r\n    AuthComponent,\r\n    SettingsComponent,\r\n    RoomLinkDirective,\r\n    RoomLinkComponent,\r\n    ChatMessageDirective,\r\n    ChatMessageComponent,\r\n    RoomInvitationDirective,\r\n    RoomInvitationComponent,\r\n    JoinRoomComponent,\r\n    ListDirective,\r\n    ListComponent,\r\n    TaskComponent,\r\n    TaskDirective,\r\n    TaskEditorPopupComponent,\r\n    TaskEditorPopupDirective,\r\n    PlayerTooltipComponent,\r\n    PlayerTooltipDirective,\r\n    NotMonetizedComponent,\r\n    LoadingMonetizationComponent,\r\n    MonetizedComponent,\r\n    FilterPopupComponent,\r\n    FilterPopupDirective,\r\n    TagComponent,\r\n    TagDirective,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    DragDropModule,\r\n    FontAwesomeModule,\r\n    ClipboardModule,\r\n    ServiceWorkerModule.register('ngsw-worker.js', { enabled: environment.production })\r\n  ],\r\n  entryComponents: [RoomLinkComponent],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-auth',\r\n  templateUrl: './auth.component.html',\r\n  styleUrls: ['./auth.component.css']\r\n})\r\nexport class AuthComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void { }\r\n\r\n}\r\n","<div class=\"goal-container-parent\">\r\n    <app-goal-container></app-goal-container>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common'\r\nimport { goals } from '../goals/goals'\r\n\r\n\r\n@Component({\r\n  selector: 'app-goal-container',\r\n  templateUrl: './goal-container.component.html',\r\n  styleUrls: ['./goal-container.component.css']\r\n})\r\nexport class GoalContainerComponent implements OnInit {\r\n\r\n  location: Location;\r\n\r\n  constructor(location: Location) {\r\n    this.location = location;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.location.path() == '/auth') {\r\n      this.location.replaceState('/auth/sign-in');\r\n    }\r\n    this.updateGoal(this.location.path(), this.location.getState());\r\n    this.location.onUrlChange(this.updateGoal);\r\n  }\r\n\r\n  onMsgReceived(msg: Map<string, string>): void {\r\n    if (msg.has(\"error\")) {\r\n      console.log(msg[\"error\"]);\r\n    }\r\n  }\r\n\r\n  updateGoal(url: string, state: unknown): void {\r\n    let goal: string = \"\";\r\n    if (url.includes('/auth')) {\r\n      goal = url.replace('/auth', '');\r\n      goal = goal.replace('/', '');\r\n    }\r\n    else {\r\n      goal = \"join-room\";\r\n    }\r\n    let visibleGoals: HTMLCollection = document.getElementsByClassName(\"visible\");\r\n    let i: number = 0;\r\n    for (let i: number = 0; i < visibleGoals.length; i++) {\r\n      let visibleGoal: Element = document.getElementsByClassName(\"visible\")[i];\r\n      visibleGoal.classList.remove(\"visible\");\r\n    }\r\n    if (goals.includes(goal)) {\r\n      let newVisibleGoal: Element = document.getElementById(goal);\r\n      newVisibleGoal.classList.add(\"visible\");\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"header\"><h1> Slumber Party</h1></div>\r\n<div class=\"goals\">\r\n    <app-sign-in class=\"goal\" id=\"sign-in\"></app-sign-in>\r\n    <app-sign-up class=\"goal\" id=\"sign-up\"></app-sign-up>\r\n    <app-join-room class=\"goal\" id=\"join-room\"></app-join-room>\r\n</div>","import { Component } from '@angular/core';\r\n\r\nexport const goals: Array<string> = ['sign-in', 'sign-up', 'join-room'];","import { Component, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common'\r\nimport { SocketService } from '../../../socket/socket.service';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { faUsers } from '@fortawesome/free-solid-svg-icons';\r\nimport { Goal } from '../goal';\r\n\r\n@Component({\r\n  selector: 'app-join-room',\r\n  templateUrl: './join-room.component.html',\r\n  styleUrls: ['./join-room.component.css']\r\n})\r\nexport class JoinRoomComponent implements OnInit, Goal {\r\n\r\n  header: string = \"Join the Party!\";\r\n  roomId: string;\r\n  roomTitle: string;\r\n  faUsers = faUsers;\r\n  memberCount = 0;\r\n\r\n  socketService: SocketService;\r\n  route: ActivatedRoute;\r\n\r\n  location: Location;\r\n\r\n  constructor(socketService: SocketService, route: ActivatedRoute, location: Location) {\r\n    this.socketService = socketService;\r\n    this.route = route;\r\n    this.location = location;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.location.path().includes(\"/j/\")) {\r\n      this.roomId = this.route.snapshot.paramMap.get('roomId');\r\n\r\n      this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n      this.socketService.sendMessage({channel: \"public\", type: \"request_room\", room_id: this.roomId});\r\n    }\r\n  }\r\n\r\n  navigate(s: string) {\r\n    this.location.replaceState(s);\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    console.log(msg);\r\n    if (msg[\"type\"] == \"request_room\") {\r\n      let hiddens: HTMLCollectionOf<Element> = document.getElementsByClassName(\"hidden-form\");\r\n        for (let i: number = 0; i < hiddens.length; i++) {\r\n          let hidden: Element = document.getElementsByClassName(\"hidden-form\")[i];\r\n          hidden.classList.remove(\"hidden-form\");\r\n        }\r\n      if (msg[\"title\"] != null) {\r\n        this.roomTitle = msg[\"title\"];\r\n        this.memberCount = msg[\"member_count\"];\r\n      }\r\n      else {\r\n        this.header = \"Invalid Room Link\";\r\n        let forms: HTMLCollectionOf<Element> = document.getElementsByClassName(\"join-form-element\");\r\n        for (let i: number = 0; i < forms.length; i++) {\r\n          let form: Element = document.getElementsByClassName(\"join-form-element\")[i];\r\n          form.classList.toggle(\"hidden-form\");\r\n        }\r\n      }\r\n    }\r\n    else if (msg[\"type\"] == \"request_invitations\") {\r\n      window.location.href = '/home';\r\n    }\r\n    else if (msg[\"type\"] == \"sign_in\" && !msg[\"password_correct\"]) {\r\n      this.navigate('/auth/sign-up');\r\n    }\r\n  }\r\n\r\n  joinRoom() {\r\n    sessionStorage.setItem(\"joinRoomId\", this.roomId);\r\n    sessionStorage.setItem(\"joinRoomTitle\", this.roomTitle);\r\n    this.socketService.sendMessage({channel: \"settings\", type: \"request_invitations\"});\r\n  }\r\n\r\n  goHome() {\r\n    window.location.href = '/home';\r\n  }\r\n\r\n}\r\n","<app-panel-header [header]=\"header\"></app-panel-header>\r\n<form class=\"hidden-form\">\r\n    <div class=\"join-form-element\">\r\n        <div class=\"users\"><fa-icon [icon]=\"faUsers\"></fa-icon> {{ memberCount }} members in this room</div>\r\n        <button (click)=\"joinRoom()\"><h2>Join {{ roomTitle }}</h2></button>\r\n    </div>\r\n    <div class=\"join-form-element hidden-form\">\r\n        <div class=\"users\">That join link's not valid!</div>\r\n        <button (click)=\"goHome()\"><h2>Go home</h2></button>\r\n    </div>\r\n</form>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { NgForm, FormsModule } from '@angular/forms'\r\nimport { Location } from '@angular/common';\r\nimport { SocketService } from '../../../socket/socket.service';\r\nimport { Goal } from '../goal';\r\n\r\n@Component({\r\n  selector: 'app-sign-in',\r\n  templateUrl: './sign-in.component.html',\r\n  styleUrls: ['./sign-in.component.css']\r\n})\r\nexport class SignInComponent implements OnInit, Goal {\r\n\r\n  header: string = \"Sign in to continue\";\r\n  location: Location;\r\n  ngForm: NgForm;\r\n  socketService: SocketService;\r\n\r\n  constructor(location: Location, socketService: SocketService) {\r\n    this.location = location;\r\n    this.socketService = socketService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n  }\r\n\r\n  onSubmit(f: NgForm) {\r\n    let submission = {channel: \"auth\", type: \"sign_in\", username: f.value[\"username\"], password: f.value[\"password\"]};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n  navigate(s: string) {\r\n    this.location.replaceState(s);\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    if (msg[\"type\"] == \"sign_in\") {\r\n      if (msg[\"password_correct\"]) {\r\n        if (msg[\"password_correct\"] == true && !this.location.path().includes('/j/')) {\r\n          document.location.href = \"/home\";\r\n        }\r\n      }\r\n      else if (msg[\"error\"]) {\r\n        let error: HTMLElement = document.getElementById(\"error\");\r\n        error.innerHTML = msg[\"error\"];\r\n        error.id = \"visible-error\";\r\n      }\r\n    }\r\n    else if (msg[\"type\"] == \"request_room\") {\r\n      if (msg[\"title\"] != null) {\r\n        this.header = \"Sign in to continue to \" + msg[\"title\"];\r\n      }\r\n    }\r\n  }\r\n}\r\n","<app-panel-header [header]=\"header\"></app-panel-header>\r\n<form #f=\"ngForm\" (ngSubmit)=\"onSubmit(f)\" novalidate>\r\n    <div class=\"form-element\">\r\n        <input type=\"text\" placeholder=\"Email address\" autocomplete=\"email\" name=\"username\" ngModel required>\r\n    </div>\r\n\r\n    <div class=\"form-element\">\r\n        <input type=\"password\" placeholder=\"Password\" autocomplete=\"current-password\" name=\"password\" ngModel required>\r\n    </div>\r\n\r\n    <div id=\"error\" class=\"form-element\">\r\n        \r\n    </div>\r\n\r\n    <div class=\"form-element\">\r\n        <button type=\"submit\"><h2>Sign in</h2></button>\r\n    </div>\r\n  \r\n    <div class=\"form-element\">\r\n        <span class=\"password\"><a (click)=\"navigate('/auth/sign-up')\">New here? Create an account</a></span>\r\n        <span class=\"password\"><a (click)=\"navigate('/auth/reset-password')\">Reset your password</a></span>\r\n    </div>\r\n</form>","import { Component, OnInit, Input } from '@angular/core';\r\nimport { NgForm, FormsModule } from '@angular/forms';\r\nimport { Location } from '@angular/common';\r\nimport { Goal } from '../goal';\r\nimport { SocketService } from '../../../socket/socket.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-sign-up',\r\n  templateUrl: './sign-up.component.html',\r\n  styleUrls: ['./sign-up.component.css']\r\n})\r\nexport class SignUpComponent implements OnInit, Goal {\r\n\r\n  header: string = \"Sign up for an account\"\r\n  location: Location;\r\n  ngForm: NgForm;\r\n  socketService: SocketService;\r\n\r\n  constructor(location: Location, socketService: SocketService) {\r\n    this.location = location;\r\n    this.socketService = socketService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n  }\r\n\r\n  onSubmit(f: NgForm) {\r\n    let submission = {channel: \"auth\", type: \"sign_up\", username: <string> f.value[\"username\"], password: <string> f.value[\"password\"]};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n  navigate(s: string) {\r\n    this.location.replaceState(s);\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    if (msg[\"type\"] == \"sign_up\") {\r\n      if (msg[\"password_correct\"] || msg[\"account_creation_success\"]) {\r\n        if (msg[\"password_correct\"] == true || msg[\"account_creation_success\"] == true) {\r\n          document.location.href = \"/home\";\r\n        }\r\n      }\r\n      else if (msg[\"error\"]) {\r\n        let error: HTMLElement = document.getElementById(\"error\");\r\n        error.innerHTML = msg[\"error\"];\r\n        error.id = \"visible-error\";\r\n      }\r\n    }\r\n    else if (msg[\"type\"] == \"request_room\") {\r\n      if (msg[\"title\"] != null) {\r\n        this.header = \"Sign up to continue to \" + msg[\"title\"];\r\n      }\r\n    }\r\n  }\r\n}\r\n","<app-panel-header [header]=\"header\"></app-panel-header>\r\n<form #f=\"ngForm\" (ngSubmit)=\"onSubmit(f)\" novalidate>\r\n    <div class=\"form-element\">\r\n        <input type=\"text\" placeholder=\"Email address\" autocomplete=\"email\" name=\"username\" ngModel required>\r\n    </div>\r\n\r\n    <div class=\"form-element\">\r\n        <input type=\"password\" placeholder=\"Password\" autocomplete=\"new-password\" name=\"password\" ngModel required>\r\n    </div>\r\n\r\n    <div id=\"error\" class=\"form-element\">\r\n        \r\n    </div>\r\n\r\n    <div class=\"form-element\">\r\n        <button type=\"submit\"><h2>Sign up</h2></button>\r\n    </div>\r\n  \r\n    <div class=\"form-element\">\r\n        <span class=\"password\"><a (click)=\"navigate('/auth/sign-in')\">Already have an account? Sign in</a></span>\r\n    </div>\r\n</form>","// Handlers have helper methods that allow them to communicate with the server\r\n// (initially, by converting the server's snake_case to camelCase)\r\n\r\nexport abstract class Handler {\r\n    snakeToCamel(s: string): string {\r\n      return s.replace(\r\n        /([-_][a-z])/g,\r\n        (group) => group.toUpperCase().replace('-', '').replace('_', '')\r\n      );\r\n    }\r\n}","export const activities: Array<string> = ['room', 'store', 'chat', 'timer', 'stats', 'tasks', 'settings'];","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appChatMessage]'\r\n})\r\nexport class ChatMessageDirective {\r\n\r\n  public viewContainerRef: ViewContainerRef\r\n\r\n  constructor(viewContainerRef: ViewContainerRef) {\r\n    this.viewContainerRef = viewContainerRef\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\n\r\n@Component({\r\n  selector: 'app-chat-message',\r\n  templateUrl: './chat-message.component.html',\r\n  styleUrls: ['./chat-message.component.css']\r\n})\r\nexport class ChatMessageComponent implements OnInit {\r\n\r\n  @Input() data: any;\r\n\r\n  socketService: SocketService;\r\n\r\n  constructor(socketService: SocketService) {\r\n    this.socketService = socketService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"chat-message\">\r\n    <div class=\"item\">\r\n        <div class=\"meta\">\r\n            <p class=\"author\">{{ data.display_name }}</p>\r\n            <p class=\"sent-date\" value=\"MM/dd/yyyy h:mm a\">{{ data.sent_date | date:'MM/dd/yyyy h:mm a'}}</p>\r\n        </div>\r\n        <p class=\"chat-contents\">{{ data.contents }}</p>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild, ComponentFactoryResolver } from '@angular/core';\r\nimport { Activity } from '../activity';\r\nimport { ChatMessageDirective } from './chat-message.directive';\r\nimport { RoomChangeService } from '../../room-change.service';\r\nimport { ChatMessageComponent } from './chat-message/chat-message.component';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\n\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.component.html',\r\n  styleUrls: ['./chat.component.css']\r\n})\r\nexport class ChatComponent implements OnInit, Activity {\r\n\r\n  @ViewChild(ChatMessageDirective, {static: true}) chatMessageHost: ChatMessageDirective;\r\n\r\n  header: string = \"Chat\";\r\n\r\n  roomChangeService: RoomChangeService;\r\n  componentFactoryResolver: ComponentFactoryResolver;\r\n  socketService: SocketService;\r\n\r\n  earliestChatId: string;\r\n  roomId: string;\r\n  allChatsLoaded: boolean;\r\n\r\n  constructor(socketService: SocketService, roomChangeService: RoomChangeService, componentFactoryResolver: ComponentFactoryResolver) {\r\n    this.socketService = socketService;\r\n    this.roomChangeService = roomChangeService;\r\n    this.componentFactoryResolver = componentFactoryResolver;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n    this.roomChangeService.roomId.subscribe(msg => this.onRoomChange(msg));\r\n  }\r\n\r\n  onRoomChange(roomId: string): void {\r\n    this.roomId = roomId;\r\n    document.getElementById(\"retrieving\").classList.remove(\"hidden\");\r\n    this.allChatsLoaded = false;\r\n    const viewContainerRef = this.chatMessageHost.viewContainerRef;\r\n    viewContainerRef.clear();\r\n    if (roomId != null) this.socketService.sendMessage({channel: \"chat\", type: \"request_initial_messages\", room_id: roomId});\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    if (msg[\"type\"] == \"request_messages\") {\r\n      if (msg[\"messages\"].length < 10) {\r\n        document.getElementById(\"retrieving\").classList.add(\"hidden\");\r\n        this.allChatsLoaded = true;\r\n      }\r\n      document.getElementById(\"retrieving-now\").classList.add(\"hidden\");\r\n      document.getElementById(\"load-more\").classList.remove(\"hidden\");\r\n      msg[\"messages\"].forEach(data => {\r\n        this.loadChat(data, false);\r\n      });\r\n    }\r\n    else if (msg[\"type\"] == \"send_message\") {\r\n      let data: any = {display_name: msg[\"display_name\"], sent_date: msg[\"sent_date\"], contents: msg[\"contents\"], chat_id: msg[\"chat_id\"]};\r\n      this.loadChat(data, true);\r\n    }\r\n  }\r\n\r\n  onSendChat(event: any): void {\r\n    let chatField: HTMLTextAreaElement = document.getElementById(\"chat-field\") as HTMLTextAreaElement;\r\n    let contents: string = chatField.value;\r\n    this.socketService.sendMessage({channel: \"chat\", type: \"send_message\", room_id: sessionStorage.getItem(\"room_id\"), contents: contents});\r\n    chatField.value = \"\";\r\n    event.preventDefault();\r\n  }\r\n\r\n  onListScroll(): void {\r\n    let list: Element = document.getElementById(\"list\");\r\n    document.getElementById(\"retrieving-now\").classList.remove(\"hidden\");\r\n    document.getElementById(\"load-more\").classList.add(\"hidden\");\r\n    if (list.scrollTop == 0 && !this.allChatsLoaded) {\r\n      this.socketService.sendMessage({channel: \"chat\", type: \"request_messages\", room_id: this.roomId, before_chat_id: this.earliestChatId});\r\n    }\r\n  }\r\n\r\n  loadChat(data: any, recent: boolean): void {\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(ChatMessageComponent);\r\n\r\n    const viewContainerRef = this.chatMessageHost.viewContainerRef;\r\n\r\n    let componentRef;\r\n    if (recent) {\r\n      componentRef = viewContainerRef.createComponent(componentFactory, 0);\r\n    }\r\n    else {\r\n      componentRef = viewContainerRef.createComponent(componentFactory);\r\n      this.earliestChatId = data[\"chat_id\"];\r\n    }\r\n    (<ChatMessageComponent>componentRef.instance).data = data;\r\n  }\r\n}\r\n","<div class=\"scroll-container\">\r\n    <app-panel-header [header]=\"header\"></app-panel-header>\r\n    <div id=\"list\" (scroll)=\"onListScroll()\" role=\"log\">\r\n        <ng-template appChatMessage></ng-template>\r\n        <p id=\"retrieving\">\r\n            <a id=\"load-more\" (click)=\"onListScroll()\">Load more messages</a>\r\n            <a class=\"hidden\" id=\"retrieving-now\">Retrieving more messages...</a>\r\n        </p>\r\n    </div>\r\n    <form id=\"chat-box\" novalidate>\r\n        <textarea id=\"chat-field\" class=\"contents\" tabindex=\"0\" (keydown.enter)=\"onSendChat($event)\" placeholder=\"Message the room...\"></textarea>\r\n    </form>\r\n</div>","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appRoomInvitation]'\r\n})\r\nexport class RoomInvitationDirective {\r\n\r\n  public viewContainerRef: ViewContainerRef;\r\n\r\n  constructor(viewContainerRef: ViewContainerRef) {\r\n    this.viewContainerRef = viewContainerRef\r\n  }\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\n\r\n@Component({\r\n  selector: 'app-room-invitation',\r\n  templateUrl: './room-invitation.component.html',\r\n  styleUrls: ['./room-invitation.component.css']\r\n})\r\nexport class RoomInvitationComponent implements OnInit {\r\n  data: any;\r\n  socketService: SocketService;\r\n\r\n  constructor(socketService: SocketService) {\r\n    this.socketService = socketService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  joinRoom(roomId: string): void {\r\n    let submission = {channel: \"settings\", type: \"join_room\", room_id: roomId};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n  declineInvitation(invitationId: string): void {\r\n    let submission = {channel: \"settings\", type: \"decline_invitation\", invitation_id: invitationId};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n}\r\n","<div class=\"invitation\">\r\n    <div class=\"item form\">\r\n        <p class=\"room-label\">{{ data.title }}</p>\r\n        <button (click)=\"declineInvitation(data.invitation_id)\"><div class=\"button-label\">Decline</div></button>\r\n        <button (click)=\"joinRoom(data.room_id)\"><div class=\"button-label\">Accept</div></button>\r\n    </div>\r\n</div>","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appRoomLink]'\r\n})\r\nexport class RoomLinkDirective {\r\n\r\n  public viewContainerRef: ViewContainerRef;\r\n\r\n  constructor(viewContainerRef: ViewContainerRef) {\r\n    this.viewContainerRef = viewContainerRef\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { NgForm } from '@angular/forms'\r\n\r\n@Component({\r\n  selector: 'app-room-link',\r\n  templateUrl: './room-link.component.html',\r\n  styleUrls: ['./room-link.component.css']\r\n})\r\nexport class RoomLinkComponent implements OnInit {\r\n\r\n  @Input() data: any;\r\n\r\n  socketService: SocketService\r\n\r\n  constructor(socketService: SocketService) {\r\n    this.socketService = socketService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  enterRoom(roomId: string, title: string): void {\r\n    this.socketService.sendMessage({channel: \"settings\", type: \"enter_room\", room_id: roomId, as_player: false});\r\n    sessionStorage.setItem(\"room_id\", roomId);\r\n    sessionStorage.setItem(\"room_title\", title);\r\n  }\r\n\r\n}\r\n","<div class=\"room-link form\">\r\n    <div class=\"item\"><p class=\"room-label\">{{ data.title }}</p><button (click)=\"enterRoom(data.room_id, data.title)\">Enter</button></div>\r\n</div>","import { Component, OnInit, ComponentFactoryResolver, ViewChild } from '@angular/core';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { RoomChangeService } from '../../room-change.service';\r\nimport { Activity } from '../activity';\r\nimport { RoomLinkDirective } from './room-link.directive';\r\nimport { RoomLinkComponent } from './room-link/room-link.component';\r\nimport { NgForm } from '@angular/forms';\r\nimport { RoomInvitationDirective } from './room-invitation.directive';\r\nimport { RoomInvitationComponent } from './room-invitation/room-invitation.component';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.component.html',\r\n  styleUrls: ['./settings.component.css']\r\n})\r\nexport class SettingsComponent implements OnInit, Activity {\r\n  \r\n  @ViewChild(RoomLinkDirective, {static: true}) roomLinkHost: RoomLinkDirective;\r\n  @ViewChild(RoomInvitationDirective, {static: true}) roomInvitationHost: RoomInvitationDirective;\r\n  \r\n  header: string = \"Settings\";\r\n  roomPrivate: boolean = true;\r\n  roomTitle: string = sessionStorage.getItem(\"room_title\");\r\n  roomId: string = sessionStorage.getItem(\"room_id\");\r\n  roomLink: string = \"https://cowork.ac/j/\" + this.roomId;\r\n\r\n  socketService: SocketService;\r\n  roomChangeService: RoomChangeService;\r\n  componentFactoryResolver: ComponentFactoryResolver;\r\n\r\n  displayName: string;\r\n\r\n  constructor(socketService: SocketService, roomChangeService: RoomChangeService, componentFactoryResolver: ComponentFactoryResolver) {\r\n    this.socketService = socketService;\r\n    this.roomChangeService = roomChangeService;\r\n    this.componentFactoryResolver = componentFactoryResolver;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n    this.roomChangeService.roomId.subscribe(msg => this.onRoomChange(msg));\r\n    this.socketService.sendMessage({channel: \"settings\", type: \"request_rooms\"});\r\n    this.socketService.sendMessage({channel: \"settings\", type: \"request_invitations\"});\r\n    if (sessionStorage.getItem(\"room_id\") != undefined) {\r\n      this.socketService.sendMessage({channel: \"settings\", type: \"enter_room\", room_id: sessionStorage.getItem(\"room_id\"), as_player: false});\r\n    }\r\n    if (sessionStorage.getItem(\"joinRoomId\") != undefined) {\r\n      this.socketService.sendMessage({channel: \"settings\", type: \"join_room\", room_id: sessionStorage.getItem(\"joinRoomId\")});\r\n      sessionStorage.removeItem(\"joinRoomId\");\r\n      sessionStorage.removeItem(\"joinRoomTitle\");\r\n    }\r\n    this.displayName = sessionStorage.getItem(\"display_name\");\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    console.log(\"Incoming message of type: \" + msg[\"type\"]);\r\n    if (msg[\"channel\"] == \"settings\") {\r\n      if (msg[\"type\"] == \"request_rooms\") {\r\n        const viewContainerRef = this.roomLinkHost.viewContainerRef;\r\n        viewContainerRef.clear();\r\n        let numRooms = Object.keys(msg[\"rooms\"]).length;\r\n        if (numRooms == 0) {\r\n          document.getElementById(\"room-settings\").classList.add(\"hidden\");\r\n          document.getElementById(\"enter-room\").classList.add(\"hidden\");\r\n        }\r\n        else if (numRooms == 1) {\r\n          document.getElementById(\"room-settings\").classList.remove(\"hidden\");\r\n          document.getElementById(\"enter-room\").classList.add(\"hidden\");\r\n        }\r\n        else {\r\n          document.getElementById(\"room-settings\").classList.remove(\"hidden\");\r\n          document.getElementById(\"enter-room\").classList.remove(\"hidden\");\r\n        }\r\n        for (let name in msg[\"rooms\"]) {\r\n          if (sessionStorage.getItem(\"room_id\") == null || sessionStorage.getItem(\"room_title\") == null) {\r\n            sessionStorage.setItem(\"room_id\", msg[\"rooms\"][name]);\r\n            sessionStorage.setItem(\"room_title\", name);\r\n            this.socketService.sendMessage({channel: \"settings\", type: \"enter_room\", room_id: msg[\"rooms\"][name], as_player: false});\r\n          }\r\n          if (!(msg[\"rooms\"][name] == sessionStorage.getItem(\"room_id\"))) {\r\n            let data: any = {title: name, room_id: msg[\"rooms\"][name]};\r\n            this.loadRoomLink(data);\r\n          }\r\n        }\r\n      }\r\n      else if (msg[\"type\"] == \"request_room_privacy\") {\r\n        if (msg[\"private\"] != this.roomPrivate) {\r\n          this.roomPrivate = msg[\"private\"];\r\n          let privacyForms: HTMLCollectionOf<Element> = document.getElementsByClassName(\"privacy-form\");\r\n          for (let index = 0; index < privacyForms.length; index++) {\r\n            const privacyForm = privacyForms[index];\r\n            privacyForm.classList.toggle(\"hidden\");\r\n          }\r\n        }\r\n      }\r\n      else if ( msg[\"type\"] == \"set_room_privacy\") {\r\n        if (msg[\"success\"] == true) {\r\n          this.roomPrivate = !this.roomPrivate;\r\n          let privacyForms: HTMLCollectionOf<Element> = document.getElementsByClassName(\"privacy-form\");\r\n          for (let index = 0; index < privacyForms.length; index++) {\r\n            const privacyForm = privacyForms[index];\r\n            privacyForm.classList.toggle(\"hidden\");\r\n          }\r\n        }\r\n      }\r\n      else if (msg[\"type\"] == \"enter_room\") {\r\n        if (msg[\"success\"] == true) {\r\n          console.log(\"Entered a room.\");\r\n          sessionStorage.setItem(\"room_title\", msg[\"room_title\"]);\r\n          sessionStorage.setItem(\"room_id\", msg[\"room_id\"]);\r\n          this.roomTitle = sessionStorage.getItem(\"room_title\");\r\n          this.roomChangeService.setRoom(msg[\"room_id\"]);\r\n        }\r\n        else {\r\n          console.error(\"Failed to enter the room.\");\r\n        }\r\n      }\r\n      else if (msg[\"type\"] == \"join_room\") {\r\n        this.reloadRooms();\r\n      }\r\n      else if (msg[\"type\"] == \"request_invitations\") {\r\n        const viewContainerRef = this.roomInvitationHost.viewContainerRef;\r\n        viewContainerRef.clear();\r\n        let invitations = msg[\"invitations\"];\r\n        if (invitations.length > 0) {\r\n          document.getElementById(\"invitations\").classList.remove(\"hidden\");\r\n          invitations.forEach(invitation => {\r\n            let data: any = {title: invitation[\"room_title\"], room_id: invitation[\"room_id\"], \r\n            username: invitation[\"username\"], invitation_id: invitation[\"invitation_id\"]};\r\n            this.loadInvitation(data);\r\n          });\r\n        }\r\n        else {\r\n          document.getElementById(\"invitations\").classList.add(\"hidden\");\r\n        }\r\n      }\r\n      else if (msg[\"type\"] == \"decline_invitation\") {\r\n        this.reloadInvitations();\r\n      }\r\n      else if (msg[\"type\"] == \"create_room\") {\r\n        this.socketService.sendMessage({channel: \"settings\", type: \"enter_room\", room_id: msg[\"room_id\"], as_player: false});\r\n      }\r\n      else if (msg[\"type\"] == \"leave_room\") {\r\n        if (msg[\"success\"] == true) {\r\n          sessionStorage.removeItem(\"room_title\");\r\n          sessionStorage.removeItem(\"room_id\");\r\n          console.log(sessionStorage.removeItem(\"room_title\"));\r\n          console.log(sessionStorage.removeItem(\"room_id\"));\r\n          this.reloadRooms();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  onSubmitDisplayName(f: NgForm) {\r\n    let submission = {channel: \"settings\", type: \"edit_display_name\", display_name: <string> f.value[\"display_name\"]};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n  loadRoomLink(data: any): void {\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(RoomLinkComponent);\r\n\r\n    const viewContainerRef = this.roomLinkHost.viewContainerRef;\r\n\r\n    const componentRef = viewContainerRef.createComponent(componentFactory);\r\n    (<RoomLinkComponent>componentRef.instance).data = data;\r\n  }\r\n\r\n  reloadRooms(): void {\r\n    this.socketService.sendMessage({channel: \"settings\", type: \"request_rooms\"});\r\n  }\r\n\r\n  loadInvitation(data: any): void {\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(RoomInvitationComponent);\r\n\r\n    const viewContainerRef = this.roomInvitationHost.viewContainerRef;\r\n\r\n    const componentRef = viewContainerRef.createComponent(componentFactory);\r\n    (<RoomInvitationComponent>componentRef.instance).data = data;\r\n  }\r\n\r\n  reloadInvitations(): void {\r\n    this.socketService.sendMessage({channel: \"settings\", type: \"request_invitations\"});\r\n  }\r\n\r\n  onRoomChange(roomId: string): void {\r\n    this.socketService.sendMessage({channel: \"settings\", type: \"request_room_privacy\", room_id: roomId});\r\n    document.getElementById(\"room-title\").innerHTML = sessionStorage.getItem(\"room_title\");\r\n    this.roomId = roomId;\r\n    this.roomLink = \"https://cowork.ac/j/\" + this.roomId;\r\n    this.reloadRooms();\r\n  }\r\n\r\n  onSubmitInvite(f: NgForm): void {\r\n    let submission = {channel: \"settings\", type: \"create_invitation\", room_id: sessionStorage.getItem(\"room_id\"), invitee: <string> f.value[\"username\"]};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n  onSubmitJoin(f: NgForm): void {\r\n    let submission = {channel: \"settings\", type: \"join_room\", room_id: <string> f.value[\"joinCode\"]};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n  onSubmitLeave(): void {\r\n    let submission = {channel: \"settings\", type: \"leave_room\", room_id: sessionStorage.getItem(\"room_id\")};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n  onSubmitCreate(f: NgForm): void {\r\n    let submission = {channel: \"settings\", type: \"create_room\", title: <string> f.value[\"title\"]};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n\r\n  onToggleRoomPrivacy(): void {\r\n    let submission = {channel: \"settings\", type: \"set_room_privacy\", room_id: sessionStorage.getItem(\"room_id\"), private: !this.roomPrivate};\r\n    this.socketService.sendMessage(submission);\r\n  }\r\n}\r\n  ","<div class=\"scroll-container\">\r\n    <app-panel-header [header]=\"header\"></app-panel-header>\r\n    <div class=\"list\">\r\n        <div class=\"margin\">\r\n            <div id=\"profile-settings\">\r\n                <h2>Profile</h2>\r\n                <h3>Update Display Name</h3>\r\n                <form class=\"form\" #i=\"ngForm\" (ngSubmit)=\"onSubmitDisplayName(i)\" novalidate>\r\n                    <div class=\"form-element\">\r\n                        <input type=\"text\" placeholder=\"{{ displayName }}\" name=\"display_name\" ngModel required>\r\n                    </div>\r\n                    <div class=\"form-element\">\r\n                        <button type=\"submit\">Save</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div id=\"room-settings\" class=\"hidden\">\r\n                <h2 id=\"room-title\">{{ roomTitle }}</h2>\r\n                <form class=\"privacy-form form hidden\">\r\n                    <div>\r\n                        <p class=\"form-label\">{{ roomTitle }} is currently public. Anyone with the link or room code\r\n                        can join this room.</p>\r\n                    </div>\r\n                    <div class=\"form-element\">\r\n                        <button (click)=\"onToggleRoomPrivacy()\" type=\"submit\">Make private</button>\r\n                    </div>\r\n                </form>\r\n                <form class=\"privacy-form form\">\r\n                    <div>\r\n                        <p class=\"form-label\">{{ roomTitle }} is currently private. No one can join this room without an invitation.</p>\r\n                    </div>\r\n                    <div class=\"form-element\">\r\n                        <button (click)=\"onToggleRoomPrivacy()\" type=\"submit\">Make public</button>\r\n                    </div>\r\n                </form>\r\n                <h3 class=\"form privacy-form hidden\">Share an invite link for {{ roomTitle }}</h3>\r\n                <form class=\"form privacy-form hidden\">\r\n                    <div class=\"form-element\">\r\n                        <input readonly value=\"cowork.ac/j/{{ roomId }}\"/>\r\n                    </div>\r\n                    <div class=\"form-element\">\r\n                        <button [cdkCopyToClipboard]=\"roomLink\" type=\"submit\">Copy</button>\r\n                    </div>\r\n                </form>\r\n                <h3>Invite Another User to {{ roomTitle }}</h3>\r\n                <form class=\"form\" #i=\"ngForm\" (ngSubmit)=\"onSubmitInvite(i)\" novalidate>\r\n                    <div class=\"form-element\">\r\n                        <input type=\"text\" placeholder=\"Email address\" name=\"username\" ngModel required>\r\n                    </div>\r\n                    <div class=\"form-element\">\r\n                        <button type=\"submit\">Invite</button>\r\n                    </div>\r\n                </form>\r\n                <h3>Leave {{ roomTitle }}</h3>\r\n                <form class=\"form\" novalidate>\r\n                    <div class=\"form-element\">\r\n                        <div class=\"form-label\">Leave {{ roomTitle }}?</div>\r\n                    </div>\r\n                    <div class=\"form-element\">\r\n                        <button (click)=\"onSubmitLeave()\">Leave</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n            <div id=\"enter-room\" class=\"hidden\">\r\n                <h2>Enter Another Room</h2>\r\n                <ng-template appRoomLink></ng-template>\r\n            </div>\r\n            <h2>Join a Room</h2>\r\n            <h3>Pending Invitations</h3>\r\n            <p>You don't have any invitations.</p>\r\n            <div id=\"invitations\" class=\"hidden\">\r\n                <ng-template appRoomInvitation></ng-template>\r\n            </div>\r\n            <h3>Join a Public Room</h3>\r\n            <form class=\"form\" #j=\"ngForm\" (ngSubmit)=\"onSubmitJoin(j)\" novalidate>\r\n                <div class=\"form-element\">\r\n                    <input type=\"text\" placeholder=\"Room code\" name=\"joinCode\" ngModel required>\r\n                </div>\r\n                <div class=\"form-element\">\r\n                    <button type=\"submit\">Join</button>\r\n                </div>\r\n            </form>\r\n            <h2>Make a Room</h2>\r\n            <form class=\"form\" #c=\"ngForm\" (ngSubmit)=\"onSubmitCreate(c)\" novalidate>\r\n                <div class=\"form-element\">\r\n                    <input type=\"text\" placeholder=\"Room name\" name=\"title\" ngModel required>\r\n                </div>\r\n                <div class=\"form-element\">\r\n                    <button type=\"submit\">Create</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-loading-monetization',\r\n  templateUrl: './loading-monetization.component.html',\r\n  styleUrls: ['./loading-monetization.component.css']\r\n})\r\nexport class LoadingMonetizationComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>loading-monetization works!</p>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-monetized',\r\n  templateUrl: './monetized.component.html',\r\n  styleUrls: ['./monetized.component.css']\r\n})\r\nexport class MonetizedComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>monetized works!</p>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-not-monetized',\r\n  templateUrl: './not-monetized.component.html',\r\n  styleUrls: ['./not-monetized.component.css']\r\n})\r\nexport class NotMonetizedComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<p>not-monetized works!</p>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { WebMonetizationService } from 'src/app/web-monetization/web-monetization.service';\r\nimport { Activity } from '../activity';\r\n\r\n@Component({\r\n  selector: 'app-stats',\r\n  templateUrl: './stats.component.html',\r\n  styleUrls: ['./stats.component.css']\r\n})\r\nexport class StatsComponent implements OnInit, Activity {\r\n  header: string = \"Stats\";\r\n\r\n  webMonetizationService: WebMonetizationService;\r\n\r\n  constructor(webMonetizationService: WebMonetizationService) {\r\n    this.webMonetizationService = webMonetizationService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.webMonetizationService.monetization.subscribe((state: string) => {\r\n      this.handleState(state);\r\n    });\r\n  }\r\n\r\n  handleState(state: String) {\r\n    let current: HTMLElement = (document.getElementsByClassName(\"current-state\")[0] as HTMLElement);\r\n    current.classList.remove(\"current-state\");\r\n    if (state == \"pending\") {\r\n      let loading: HTMLElement = (document.getElementsByTagName(\"app-loading-monetization\")[0] as HTMLElement);\r\n      current = loading;\r\n    }\r\n    else if (state == \"started\") {\r\n      let monetized: HTMLElement = (document.getElementsByTagName(\"app-monetized\")[0] as HTMLElement);\r\n      current = monetized;\r\n    }\r\n    else {\r\n      // state is stopped or error state\r\n      let notMonetized: HTMLElement = (document.getElementsByTagName(\"app-not-monetized\")[0] as HTMLElement);\r\n      current = notMonetized;\r\n    }\r\n    current.classList.add(\"current-state\");\r\n  }\r\n\r\n}\r\n","<app-panel-header [header]=\"header\"></app-panel-header>\r\n<!--Why didn't I pad all of these like this? Need serious refactoring-->\r\n<div class=\"container\">\r\n    <app-not-monetized class=\"current-state\"></app-not-monetized>\r\n    <app-loading-monetization></app-loading-monetization>\r\n    <app-monetized></app-monetized>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Activity } from '../activity';\r\n\r\n@Component({\r\n  selector: 'app-store',\r\n  templateUrl: './store.component.html',\r\n  styleUrls: ['./store.component.css']\r\n})\r\nexport class StoreComponent implements OnInit, Activity {\r\n  header: string = \"Store\";\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<app-panel-header [header]=\"header\"></app-panel-header>\r\n<p>store works!</p>\r\n","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TasksService {\r\n\r\n  socketService: SocketService;\r\n\r\n  activeTaskSource: Subject<any>;\r\n  public activeTask: Observable<any>;\r\n\r\n  activeTaskId: string;\r\n\r\n  constructor(socketService: SocketService) {\r\n    this.socketService = socketService;\r\n    this.activeTaskSource = new Subject<any>();\r\n    this.activeTask = this.activeTaskSource.asObservable();\r\n  }\r\n\r\n  setActiveTask(data: any) {\r\n    let id: string = data.task_id;\r\n\r\n    this.activeTaskSource.next(data);\r\n\r\n    this.activeTaskId = id;\r\n  }\r\n}\r\n","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appList]'\r\n})\r\nexport class ListDirective {\r\n\r\n  public viewContainerRef: ViewContainerRef\r\n\r\n  constructor(viewContainerRef: ViewContainerRef) {\r\n    this.viewContainerRef = viewContainerRef\r\n  }\r\n\r\n}\r\n","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[appFilterPopup]'\n})\nexport class FilterPopupDirective {\n\n  public viewContainerRef: ViewContainerRef;\n\n  constructor(viewContainerRef: ViewContainerRef) {\n    this.viewContainerRef = viewContainerRef\n  }\n}\n","import { Component, ComponentFactoryResolver, ComponentRef, OnInit, ViewChild } from '@angular/core';\nimport { SocketService } from 'src/app/socket/socket.service';\nimport { TagDirective } from './tag.directive';\nimport { TagComponent } from './tag/tag.component';\n\n@Component({\n  selector: 'app-filter-popup',\n  templateUrl: './filter-popup.component.html',\n  styleUrls: ['./filter-popup.component.css']\n})\nexport class FilterPopupComponent implements OnInit {\n\n  socketService: SocketService;\n  @ViewChild(TagDirective, { static: true }) public tagHost: TagDirective;\n  \n  componentFactoryResolver: ComponentFactoryResolver;\n\n  constructor(socketService: SocketService, componentFactoryResolver: ComponentFactoryResolver) {\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.socketService = socketService;\n  }\n\n  ngOnInit(): void {\n    this.socketService.channelReply.get(\"tasks\").subscribe(msg => this.onResponseReceived(msg));\n    this.socketService.sendMessage({channel: \"tasks\", type: \"request_tags\"});\n  }\n\n  onResponseReceived(msg: any): void {\n    if (msg[\"channel\"] == \"tasks\") {\n      if (msg[\"type\"] == \"request_tags\") {\n        this.onRequestTags(msg);\n      }\n      else if (msg[\"type\"] == \"add_tag\") {\n        this.onAddTag(msg);\n      }\n    }\n  }\n\n  onRequestTags(msg: any): void {\n    for (let tag of msg[\"tags\"]) this.loadTag(tag);\n  }\n\n  onAddTag(msg: any): void {\n    this.loadTag(msg);\n  }\n\n  async loadTag(data: any): Promise<void> {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(TagComponent);\n\n    const viewContainerRef = this.tagHost.viewContainerRef;\n\n    let componentRef: ComponentRef<TagComponent>;\n\n    componentRef = viewContainerRef.createComponent(componentFactory, data.index);\n\n    let instance: TagComponent = <TagComponent>componentRef.instance;\n    instance.data = data;\n    //this.tagViewRefs.set(data.task_id, componentRef.hostView);\n  }\n\n  addTag(): void {\n    let titleField: HTMLInputElement = document.getElementById(\"new-tag-title-field\") as HTMLInputElement;\n    let title: string = titleField.value;\n    let min = Math.ceil(0);\n    let max = Math.floor(4);\n    let color: number = Math.floor(Math.random() * (max - min) + min); //The maximum is exclusive and the minimum is inclusive    \n    this.socketService.sendMessage({channel: \"tasks\", type: \"add_tag\", color: color, title: title});\n  }\n\n}\n","<div class=\"popup\">\n    <div class=\"popup-header\"><h3>Filter</h3></div>\n    <span>Available tags:</span>\n    <div class=\"drop-area\">\n        <ng-template appTag></ng-template>\n    </div>\n    <div class=\"new-tag\">\n        <input class=\"title\" id=\"new-tag-title-field\" type=\"text\" placeholder=\"Add a new tag...\" (keydown.enter)=\"addTag()\"/>\n    </div>\n</div>","import { Directive, ViewContainerRef } from '@angular/core';\n\n@Directive({\n  selector: '[appTag]'\n})\nexport class TagDirective {\n\n  public viewContainerRef: ViewContainerRef\n\n  constructor(viewContainerRef: ViewContainerRef) {\n    this.viewContainerRef = viewContainerRef\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-tag',\n  templateUrl: './tag.component.html',\n  styleUrls: ['./tag.component.css']\n})\nexport class TagComponent implements OnInit {\n\n  data: any;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    \n  }\n\n}\n","<div class=\"tag\" cdkDrag>\n    <span>{{ this.data.title }}</span>\n</div>","import { Component, OnInit, Input, ComponentFactoryResolver, ViewChild, ViewChildren, QueryList, ViewContainerRef, ViewRef, ComponentRef } from '@angular/core';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { TaskDirective } from './task.directive';\r\nimport { TaskComponent } from './task/task.component';\r\nimport { CdkDragDrop, CdkDragStart } from '@angular/cdk/drag-drop';\r\nimport { ListsService } from '../lists.service';\r\nimport { FilterPopupComponent } from './filter-popup/filter-popup.component';\r\nimport { FilterPopupDirective } from './filter-popup.directive';\r\n\r\n@Component({\r\n  selector: 'app-list',\r\n  templateUrl: './list.component.html',\r\n  styleUrls: ['./list.component.css']\r\n})\r\nexport class ListComponent implements OnInit {\r\n\r\n  @ViewChild(TaskDirective, {static: true}) public taskHost: TaskDirective;\r\n  @ViewChild(FilterPopupDirective, { static: true }) public filterPopupHost: FilterPopupDirective;\r\n\r\n\r\n  @Input() data: any;\r\n\r\n  @Input() lists: string[];\r\n\r\n  public disabled: boolean = false;\r\n\r\n  filterPopupOpen: boolean = false;\r\n\r\n  // string problems. passing by reference. should be passing by value. might need two arrays.\r\n  public tasks: Map<string, TaskComponent> = new Map<string, TaskComponent>();\r\n\r\n  taskViewRefs: Map<string, ViewRef> = new Map<string, ViewRef>();\r\n\r\n  socketService: SocketService;\r\n  listsService: ListsService;\r\n  componentFactoryResolver: ComponentFactoryResolver;\r\n\r\n  constructor(socketService: SocketService, listsService: ListsService, componentFactoryResolver: ComponentFactoryResolver) {\r\n    this.socketService = socketService;\r\n    this.listsService = listsService;\r\n    this.componentFactoryResolver = componentFactoryResolver;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n    this.socketService.sendMessage({channel: \"tasks\", type: \"request_tasks_for_list\", \"list_id\": this.data.list_id, \"index\": 0});\r\n    this.listsService.lists[this.data.list_id] = this;\r\n  }\r\n\r\n  dropTask(event: CdkDragDrop<string[]>): void {\r\n    if (event.previousContainer === event.container) {\r\n      if (!(event.currentIndex == event.previousIndex)) {\r\n        this.taskHost.viewContainerRef.move(this.taskHost.viewContainerRef.get(event.previousIndex), event.currentIndex);\r\n        let taskId: string = event.item.data.task_id;\r\n        let data: any = this.listsService.lists.get(event.previousContainer.id).tasks.get(taskId).data;\r\n        this.socketService.sendMessage({channel: \"tasks\", type: \"edit_listing\", listing_id: data.listing_id, list_id: event.container.id, index: event.currentIndex});\r\n        return\r\n      }\r\n    } else {\r\n      event.previousContainer.removeItem(event.item);\r\n      let taskId: string = event.item.data.task_id;\r\n      let data: any = this.listsService.lists.get(event.previousContainer.id).tasks.get(taskId).data;\r\n      this.tasks.set(taskId, this.listsService.lists.get(event.previousContainer.id).tasks.get(taskId));\r\n      this.listsService.lists.get(event.previousContainer.id).tasks.delete(taskId);\r\n      data.index = event.currentIndex;\r\n      let previousViewContainerRef: ViewContainerRef = this.listsService.lists.get(event.previousContainer.id).taskHost.viewContainerRef;\r\n      previousViewContainerRef.remove(event.previousIndex);\r\n      this.loadTask(data);\r\n      this.socketService.sendMessage({channel: \"tasks\", type: \"edit_listing\", listing_id: data.listing_id, list_id: event.container.id, index: event.currentIndex});\r\n    }\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    if (msg[\"channel\"] == \"tasks\") {\r\n      if (msg[\"type\"] == \"request_tasks_for_list\") {\r\n        this.onRequestTasksForList(msg);\r\n      }\r\n      else if (msg[\"type\"] == \"add_task\") {\r\n        this.onAddTask(msg);\r\n      }\r\n      else if (msg[\"type\"] == \"request_task\") {\r\n        this.checkDisable();\r\n      }\r\n      else if (msg[\"type\"] == \"delete_task\") {\r\n        this.onDeleteTask(msg[\"task_id\"]);\r\n      }\r\n    }\r\n  }\r\n\r\n  toggleTags() {\r\n    // request tags? or should have already requested them (probably)\r\n    // make them display: flex or display: none depending on whether\r\n    // they are already visible\r\n    if (!this.filterPopupOpen) this.openFilterPopup();\r\n    else this.closeFilterPopup();\r\n  }\r\n\r\n  openFilterPopup() {\r\n    const viewContainerRef = this.filterPopupHost.viewContainerRef;\r\n    viewContainerRef.clear();\r\n\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(FilterPopupComponent);\r\n\r\n    let componentRef: ComponentRef<FilterPopupComponent>;\r\n\r\n    componentRef = viewContainerRef.createComponent(componentFactory);\r\n\r\n    let instance: FilterPopupComponent = <FilterPopupComponent>componentRef.instance;\r\n    this.filterPopupOpen = true;\r\n  }\r\n\r\n  closeFilterPopup() {\r\n    const viewContainerRef = this.filterPopupHost.viewContainerRef;\r\n    viewContainerRef.clear();\r\n    this.filterPopupOpen = false;\r\n  }\r\n\r\n  checkDisable() {\r\n    this.disabled = this.listsService.disabledLists.has(this.data.list_id);\r\n  }\r\n\r\n  onRequestTasksForList(msg: any): void {\r\n    let initialTasksSize = this.tasks.size;\r\n    msg[\"tasks\"].sort(function(a: any, b: any) {\r\n      return a.index - b.index;\r\n    });\r\n    msg[\"tasks\"].forEach(data => {\r\n      if (data[\"list_id\"] == this.data.list_id) {\r\n        this.loadTask(data);\r\n      }\r\n    });\r\n    if (this.tasks.size > initialTasksSize) {\r\n      this.socketService.sendMessage({channel: \"tasks\", type: \"request_tasks_for_list\", \"list_id\": this.data.list_id, \"index\": this.tasks.size});\r\n    }\r\n  }\r\n  \r\n  onAddTask(msg: any): void {\r\n    if (msg[\"list_id\"] == this.data.list_id) {\r\n      this.loadTask(msg);\r\n    }\r\n  }\r\n\r\n  onDeleteTask(taskId: string) {\r\n    if (this.tasks.has(taskId)) {\r\n      let index: number = this.taskHost.viewContainerRef.indexOf(this.taskViewRefs.get(taskId));\r\n      this.taskHost.viewContainerRef.remove(index);\r\n    }\r\n  }\r\n\r\n  async loadTask(data: any): Promise<void> {\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(TaskComponent);\r\n\r\n    const viewContainerRef = this.taskHost.viewContainerRef;\r\n\r\n    let componentRef: ComponentRef<TaskComponent>;\r\n\r\n    componentRef = viewContainerRef.createComponent(componentFactory, data.index);\r\n\r\n    let instance: TaskComponent = <TaskComponent>componentRef.instance;\r\n    instance.data = data;\r\n    instance.isListing = true;\r\n    this.tasks.set(data.task_id, instance);\r\n    this.taskViewRefs.set(data.task_id, componentRef.hostView);\r\n  }\r\n\r\n  addTask(): void {\r\n    let newTaskTitleField: HTMLInputElement = <HTMLInputElement> document.getElementById(this.data.list_id  + \"-new-task-title-field\");\r\n    let title: string = newTaskTitleField.value;\r\n    this.socketService.sendMessage({channel: \"tasks\", type: \"add_task\", public: true, active: false, title: title, contents: \"\", list_id: this.data.list_id, index: 0});\r\n    newTaskTitleField.value = \"\";\r\n  }\r\n\r\n  deleteList(): void {\r\n    this.socketService.sendMessage({channel: \"tasks\", type: \"delete_list\", list_id: this.data.list_id});\r\n    this.listsService.lists.delete(this.data.list_id);\r\n  }\r\n\r\n  editTitle(): void {\r\n    let titleField: HTMLInputElement = <HTMLInputElement> document.getElementById(this.data.list_id  + \"-title-field\");\r\n    let title: string = titleField.value;\r\n    titleField.blur();\r\n    this.socketService.sendMessage({channel: \"tasks\", type: \"edit_list_title\", list_id: this.data.list_id, title: title});\r\n  }\r\n\r\n  startDragging(event: CdkDragStart<string[]>): void {\r\n    event.source.data = this.data;\r\n  }\r\n\r\n}\r\n","<div class=\"list\">\r\n    <div class=\"tasks\">\r\n        <div class=\"new-task\">\r\n            <input class=\"title\" id=\"{{ data.list_id }}-new-task-title-field\" type=\"text\" placeholder=\"Add a new task...\" (keydown.enter)=\"addTask()\"/>\r\n            <a class=\"filter\" (click)=\"toggleTags()\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-filter\" viewBox=\"0 0 16 16\">\r\n                    <path d=\"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5z\"/>\r\n                </svg>\r\n            </a>\r\n        </div>\r\n        <ng-template appFilterPopup></ng-template>\r\n        <div class=\"drop-area\" id=\"{{ data.list_id }}\" cdkDropList [cdkDropListConnectedTo]=\"lists\" (cdkDropListDropped)=\"dropTask($event)\">\r\n            <ng-template appTask></ng-template>\r\n        </div>\r\n    </div>\r\n</div>","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appTask]'\r\n})\r\nexport class TaskDirective {\r\n\r\n  public viewContainerRef: ViewContainerRef\r\n\r\n  constructor(viewContainerRef: ViewContainerRef) {\r\n    this.viewContainerRef = viewContainerRef\r\n  }\r\n\r\n}\r\n","import { Component, OnInit, Input, AfterViewInit, ComponentFactoryResolver } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { CdkDragStart } from '@angular/cdk/drag-drop';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { ListsService } from '../../lists.service';\r\nimport { TasksService } from '../../../tasks.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-task',\r\n  templateUrl: './task.component.html',\r\n  styleUrls: ['./task.component.css']\r\n})\r\nexport class TaskComponent implements OnInit {\r\n\r\n  @Input() data: any;\r\n  @Input() isListing: boolean;\r\n\r\n\r\n  socketService: SocketService;\r\n  listsService: ListsService;\r\n  tasksService: TasksService;\r\n\r\n  componentFactoryResolver: ComponentFactoryResolver;\r\n\r\n  location: Location;\r\n\r\n  constructor(socketService: SocketService, listsService: ListsService, tasksService: TasksService, location: Location) {\r\n    this.socketService = socketService;\r\n    this.listsService = listsService;\r\n    this.tasksService = tasksService;\r\n    this.location = location;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    if (msg[\"channel\"] == \"tasks\") {\r\n      if (msg[\"type\"] == \"request_task\") {\r\n        this.onRequestTask(msg);\r\n      }\r\n      if (msg[\"type\"] == \"set_listing_active\") {\r\n        if (msg[\"listing_id\"] == this.data.listing_id) this.data.active = msg[\"active\"];\r\n        else this.data.active = false;\r\n      }\r\n      if (msg[\"type\"] == \"set_task_public\") {\r\n        if (msg[\"task_id\"] == this.data.task_id) this.data.public = msg[\"public\"];\r\n      }\r\n    }\r\n  }\r\n\r\n  startDragging(event: CdkDragStart<string[]>): void {\r\n    event.source.data = this.data;\r\n  }\r\n\r\n  openTask(event: Event): void {\r\n    event.preventDefault();\r\n    if (!(this.data.task_id == undefined)) this.location.replaceState('/home/tasks/' + this.data.task_id);\r\n  }\r\n\r\n  removeTask() {\r\n    this.socketService.sendMessage({ channel: \"tasks\", type: \"delete_task\", \"task_id\": this.data.task_id });\r\n  }\r\n\r\n  onRequestTask(msg: any) {\r\n    if (msg[\"task_id\"] == this.data.task_id) {\r\n      this.data = msg;\r\n    }\r\n  }\r\n}","<a href=\"/home/tasks/{{ data.task_id }}\" draggable=\"false\" (click)=\"openTask($event)\" (keydown.enter)=\"openTask($event)\" tabindex=\"0\"\r\n  [ngClass]=\"isListing ? 'listing' : 'task'\" [class.active]=\"this.data.active && isListing\" [cdkDragDisabled]=\"!isListing\" id=\"{{ data.task_id }}\" (cdkDragStarted)=\"startDragging($event)\" cdkDrag>\r\n  <div class=\"center\">\r\n    <div class=\"tags\">\r\n      tags\r\n    </div>\r\n    <div *ngIf=\"isListing; then thenBlock else elseBlock\"></div>\r\n    <ng-template #thenBlock><div id=\"{{ data.task_id }}-title\" class=\"title\">{{ data.title || \"Untitled task\"}}</div></ng-template>\r\n    <ng-template #elseBlock><div id=\"{{ data.task_id }}-title\" class=\"title\">{{ data.title || \"This user is not currently sharing an active task.\"}}</div></ng-template>\r\n    <div id=\"{{ data.task_id }}-full\" class=\"full\">\r\n    </div>\r\n    <div class=\"extras\">\r\n      <div class=\"info\">extras</div>\r\n    </div>\r\n  </div>\r\n</a>","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { ListComponent } from './list/list.component';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ListsService {\r\n\r\n  public lists: Map<string, ListComponent> = new Map<string, ListComponent>();\r\n\r\n  public disabledLists: Map<string, number> = new Map<string, number>();\r\n\r\n  constructor() { }\r\n}\r\n","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appTaskEditorPopup]'\r\n})\r\nexport class TaskEditorPopupDirective {\r\n\r\n  public viewContainerRef: ViewContainerRef;\r\n\r\n  constructor(viewContainerRef: ViewContainerRef) {\r\n    this.viewContainerRef = viewContainerRef\r\n  }\r\n\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\n\r\n@Component({\r\n  selector: 'app-task-editor-popup',\r\n  templateUrl: './task-editor-popup.component.html',\r\n  styleUrls: ['./task-editor-popup.component.css']\r\n})\r\nexport class TaskEditorPopupComponent implements OnInit {\r\n\r\n  data: any;\r\n  onClose: Function;\r\n\r\n  enteredTitle: string;\r\n  enteredDescription: string;\r\n\r\n  isEditingTitle: boolean = true;\r\n\r\n  socketService: SocketService;\r\n\r\n  constructor(socketService: SocketService) {\r\n    this.socketService = socketService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.enteredTitle = this.data.title || \"Untitled task\";\r\n    this.enteredDescription = this.data.contents;\r\n    let modalContent: HTMLElement = document.getElementsByClassName(\"modal-content\")[0] as HTMLElement;\r\n    modalContent.focus();\r\n  }\r\n\r\n  editTitle(): void {\r\n    let titleField: HTMLInputElement = document.getElementById(\"task-title-field\") as HTMLInputElement;\r\n    this.enteredTitle = this.data.title;\r\n    this.isEditingTitle = true;\r\n  }\r\n\r\n  saveTitle(): void {\r\n    let titleField: HTMLInputElement = document.getElementById(\"task-title-field\") as HTMLInputElement;\r\n    if (this.enteredTitle != undefined) {\r\n      if (titleField == document.activeElement) titleField.blur();\r\n  \r\n      this.data.title = this.enteredTitle;\r\n  \r\n      this.isEditingTitle = false;\r\n      this.socketService.sendMessage({ channel: \"tasks\", type: \"edit_task_title\", task_id: this.data.task_id, title: this.enteredTitle });\r\n    }\r\n  }\r\n\r\n  saveDescription(): void {\r\n    if (this.enteredDescription != undefined) {  \r\n      this.data.contents = this.enteredDescription;\r\n  \r\n      this.socketService.sendMessage({channel: \"tasks\", type: \"edit_task_contents\", task_id: this.data.task_id, contents: this.enteredDescription});\r\n    }\r\n  }\r\n\r\n  changeActive(): void {\r\n    this.socketService.sendMessage({channel: \"tasks\", type: \"set_listing_active\", listing_id: this.data.listing_id, active: !this.data.active});\r\n  }\r\n\r\n  changePublic(): void {\r\n    this.socketService.sendMessage({channel: \"tasks\", type: \"set_task_public\", task_id: this.data.task_id, public: !this.data.public});\r\n  }\r\n\r\n  removeTask(event: Event): void {\r\n    this.onClose(event);\r\n    this.socketService.sendMessage({channel: \"tasks\", type: \"delete_task\", task_id: this.data.task_id, title: this.enteredTitle});\r\n  }\r\n\r\n}\r\n","<div class=\"modal\" (click)=\"onClose($event)\">\r\n    <div class=\"modal-content\" tabindex=\"0\">\r\n        <div class=\"task-header\">\r\n            <textarea id=\"task-title-field\" (focus)=\"editTitle()\" (keydown.enter)=\"saveTitle()\" (blur)=\"saveTitle()\"\r\n                [(ngModel)]=\"enteredTitle\" [disabled]=\"!this.data.can_edit_title\">{{ data.title }}</textarea>\r\n            <a tabindex=\"0\" (keydown.enter)=\"onClose($event)\" (click)=\"onClose($event)\" class=\"close-task\">X</a>\r\n        </div>\r\n        <div class=\"task-content\">\r\n            <div class=\"task-main\">\r\n                <form (submit)=\"onClose($event)\">\r\n                    <div tabindex=\"0\" class=\"tooltip-parent\">\r\n                        <h3>Listing</h3>\r\n                        <span>A listing is your personal copy of a task. Shared versions of the task will not have this\r\n                            information.</span>\r\n                    </div>\r\n                    <p>This section will include time spent on this task, any ongoing timers, and tags.</p>\r\n                    <h3>Task</h3>\r\n                    <label for=\"event-details\">Description</label>\r\n                    <textarea id=\"event-details\" name=\"event-details\" rows=\"6\" style=\"resize: none;\"\r\n                        [(ngModel)]=\"enteredDescription\" (blur)=\"saveDescription()\"\r\n                        [disabled]=\"!this.data.can_edit_contents\">{{ data.description }}</textarea>\r\n\r\n                </form>\r\n            </div>\r\n            <div class=\"task-sidebar\">\r\n                <div [ngClass]=\"this.data.can_edit_settings ? 'settings' : 'hidden-settings'\">\r\n                    <h6 class=\"task-actions\">Task Settings</h6>\r\n                    <div class=\"toggle\">\r\n                        <span tabindex=\"0\" class=\"tooltip-parent\">Public<span>Set a task to public if you want it to be\r\n                                visible to others.</span></span>\r\n                        <label class=\"switch\">\r\n                            <input type=\"checkbox\" id=\"public\" (change)=\"changePublic()\" [checked]=\"this.data.public\">\r\n                            <span class=\"slider\"></span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div [ngClass]=\"this.data.can_edit_settings ? 'settings' : 'hidden-settings'\">\r\n                    <h6 class=\"task-actions\">Listing Settings</h6>\r\n                    <div class=\"toggle\">\r\n                        <span tabindex=\"0\" class=\"tooltip-parent\">Active<span tabindex=\"0\">Set a listing to active if\r\n                                you want to work on it. You can have up to one active task at a time.</span></span>\r\n                        <label class=\"switch\">\r\n                            <input type=\"checkbox\" id=\"active\" (change)=\"changeActive()\" [checked]=\"this.data.active\">\r\n                            <span class=\"slider\"></span>\r\n                        </label>\r\n                    </div>\r\n                    <button class=\"remove-task\" tabindex=\"0\" (click)=\"removeTask($event)\"\r\n                        (keydown.enter)=\"removeTask($event)\">Remove</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>","import { Component, OnInit, ViewChild, ComponentFactoryResolver, ViewRef, ComponentRef } from '@angular/core';\r\nimport { Location } from '@angular/common'\r\nimport { Activity } from '../activity';\r\nimport { ListDirective } from './list.directive';\r\nimport { ListComponent } from './list/list.component';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { ListsService } from './lists.service';\r\nimport { Handler } from 'src/app/handler';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TaskEditorPopupDirective } from './task-editor-popup.directive';\r\nimport { TaskEditorPopupComponent } from './task-editor-popup/task-editor-popup.component';\r\nimport { MenuComponent } from '../../menu/menu.component';\r\n\r\n@Component({\r\n  selector: 'app-tasks',\r\n  templateUrl: './tasks.component.html',\r\n  styleUrls: ['./tasks.component.css']\r\n})\r\nexport class TasksComponent extends Handler implements OnInit, Activity {\r\n\r\n  @ViewChild(ListDirective, {static: true}) listHost: ListDirective;\r\n  @ViewChild(TaskEditorPopupDirective, { static: true }) public taskEditorPopupHost: TaskEditorPopupDirective;\r\n\r\n  header: string = \"Tasks\";\r\n\r\n  lists: string[] = [];\r\n  listViewRefs: Map<string, ViewRef> = new Map<string, ViewRef>();\r\n\r\n  scrollPosition: any;\r\n\r\n  socketService: SocketService;\r\n  listsService: ListsService;\r\n  componentFactoryResolver: ComponentFactoryResolver;\r\n\r\n  taskId: string;\r\n\r\n  route: ActivatedRoute;\r\n\r\n  location: Location;\r\n\r\n  constructor(socketService: SocketService, listsService: ListsService, componentFactoryResolver: ComponentFactoryResolver, route: ActivatedRoute, location: Location) {\r\n    super();\r\n    this.socketService = socketService;\r\n    this.listsService = listsService;\r\n    this.componentFactoryResolver = componentFactoryResolver;\r\n    this.location = location;\r\n    this.route = route;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.socketService.channelIsRegistered(\"tasks\")) this.socketService.register(\"tasks\");\r\n    this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n    this.socketService.sendMessage({channel: \"tasks\", type: \"request_lists\"});\r\n\r\n    this.location.onUrlChange(this.handleTask.bind(this));\r\n    this.handleTask();\r\n  }\r\n\r\n  handleMouseDown(event: MouseEvent) {\r\n    let element: Element = document.getElementById(\"lists\");\r\n    this.scrollPosition = {\r\n        left: element.scrollLeft,\r\n        x: event.clientX,\r\n    };\r\n  }\r\n\r\n  handleMouseMovement(event: MouseEvent) {\r\n    if (this.scrollPosition != undefined) {\r\n      const dx = event.clientX - this.scrollPosition.x;\r\n      \r\n\r\n      let element: Element = document.getElementById(\"lists\");\r\n      this.scrollPosition = {\r\n        left: element.scrollLeft,\r\n        x: event.clientX,\r\n      };\r\n      element.scrollBy(-dx, 0);\r\n      if (window.getSelection) {\r\n        if (window.getSelection().empty) {\r\n          window.getSelection().empty();\r\n        }\r\n        else if (window.getSelection().removeAllRanges) {\r\n          window.getSelection().removeAllRanges();\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  handleMouseUp(event: MouseEvent) {\r\n    this.scrollPosition = undefined;\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    if (msg[\"channel\"] == \"tasks\") {\r\n      if (msg[\"type\"] == \"request_lists\") {\r\n        this.onRequestLists(msg);\r\n      }\r\n      else if (msg[\"type\"] == \"request_task\") {\r\n        this.onRequestTask(msg);\r\n      }\r\n    }\r\n  }\r\n\r\n  onRequestLists(msg: any): void {\r\n    msg[\"lists\"].sort(function(a: any, b: any) {\r\n      return a.index - b.index;\r\n    });\r\n    msg[\"lists\"].forEach(data => {\r\n      console.log(data);\r\n      this.loadList(data);\r\n    });\r\n  }\r\n\r\n  loadList(data: any): void {\r\n    this.lists.push(data.list_id);\r\n    \r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(ListComponent);\r\n\r\n    const viewContainerRef = this.listHost.viewContainerRef;\r\n\r\n    let componentRef = viewContainerRef.createComponent(componentFactory, data.index);\r\n    let instance: ListComponent = <ListComponent>componentRef.instance\r\n    instance.data = data;\r\n    instance.lists = this.lists;\r\n    this.listsService.lists.set(data.list_id, instance);\r\n    this.listViewRefs.set(data.list_id, componentRef.hostView);\r\n  }\r\n\r\n  handleTask() {\r\n    if (MenuComponent.getActivity(this.location.path()) == \"tasks\" && this.location.path().split('/').length > 3) {\r\n      this.taskId = this.location.path().split('/')[3];\r\n      this.socketService.sendMessage({channel: \"tasks\", type: \"request_task\", \"task_id\": this.taskId});\r\n    }\r\n  }\r\n\r\n  onRequestTask(taskData: any) {\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(TaskEditorPopupComponent);\r\n\r\n    const viewContainerRef = this.taskEditorPopupHost.viewContainerRef;\r\n\r\n    let componentRef: ComponentRef<TaskEditorPopupComponent>;\r\n\r\n    componentRef = viewContainerRef.createComponent(componentFactory);\r\n\r\n    let instance: TaskEditorPopupComponent = <TaskEditorPopupComponent>componentRef.instance;\r\n    instance.data = taskData;\r\n    instance.onClose = this.closeTask.bind(this);\r\n  }\r\n\r\n  closeTask(event: Event) {\r\n    if ((event.target as HTMLElement).classList.contains(\"modal\") ||\r\n      (event.target as HTMLElement).classList.contains(\"close-task\") ||\r\n      (event.target as HTMLElement).classList.contains(\"remove-task\")) {\r\n      const viewContainerRef = this.taskEditorPopupHost.viewContainerRef;\r\n      viewContainerRef.clear();\r\n      this.location.replaceState('/home/tasks');\r\n    }\r\n  }\r\n}\r\n","<ng-template appTaskEditorPopup></ng-template>\r\n<div class=\"scroll-container\">\r\n    <app-panel-header [header]=\"header\"></app-panel-header>\r\n    <div id=\"list\">\r\n        <div>\r\n            <ng-template appList></ng-template>\r\n        </div>\r\n    </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject, timer } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TimerService {\r\n\r\n  public timerSource: Observable<number>;\r\n\r\n  constructor() { }\r\n\r\n  startTimer(): void {\r\n    this.timerSource = timer(1000, 1000);\r\n  }\r\n\r\n  stopTimer(): void {\r\n    this.timerSource = null;\r\n  }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Handler } from 'src/app/handler';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { RoomChangeService } from '../../room-change.service';\r\nimport { Activity } from '../activity';\r\nimport { TasksService } from '../tasks.service';\r\nimport { TimerService } from '../timer.service';\r\n\r\n@Component({\r\n  selector: 'app-timer',\r\n  templateUrl: './timer.component.html',\r\n  styleUrls: ['./timer.component.css']\r\n})\r\nexport class TimerComponent extends Handler implements OnInit, Activity {\r\n  header: string = \"Timer\";\r\n\r\n  tabs: Array<string> = [\"host\"];\r\n\r\n  socketService: SocketService;\r\n\r\n  roomChangeService: RoomChangeService;\r\n\r\n  roomId: string;\r\n\r\n  tasksService: TasksService;\r\n  activeTaskData: any = {\"task_id\": null, \"title\": \"You need an active task to participate. Select one from the tasks tab.\"};\r\n  activeTask: boolean = false;\r\n\r\n  timerService: TimerService;\r\n  timeRemaining: Date;\r\n  timerSubscription: Subscription;\r\n\r\n  timeToSubmit: number = 25;\r\n  sessionId: string;\r\n  participants: any;\r\n  \r\n  joinedSession: boolean = false;\r\n\r\n  rightVisibility: string = \"inherit\";\r\n  leftVisibility: string = \"inherit\";\r\n\r\n  startButtonDisplay: string = \"inherit\";\r\n  joinButtonDisplay: string = \"none\";\r\n  leaveButtonDisplay: string = \"none\";\r\n\r\n  participantsDisplay: string = \"none\";\r\n\r\n  constructor(socketService: SocketService, roomChangeService: RoomChangeService, tasksService: TasksService, timerService: TimerService) {\r\n    super();\r\n    this.socketService = socketService;\r\n    this.roomChangeService = roomChangeService;\r\n    this.tasksService = tasksService;\r\n    this.timerService = timerService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (!this.socketService.channelIsRegistered(\"timer\")) this.socketService.register(\"timer\");\r\n    this.socketService.channelReply.get(\"timer\").subscribe(msg => {\r\n      this[this.snakeToCamel(msg[\"type\"])](msg);\r\n    });\r\n    this.roomChangeService.roomId.subscribe(roomId => this.changeRoom(roomId));\r\n    this.tasksService.activeTask.subscribe(data => { this.activeTaskData = data; this.activeTask = true});\r\n    this.timeRemaining = new Date(0, 0, 0, 0, this.timeToSubmit);\r\n  }\r\n\r\n  changeRoom(roomId: string): void {\r\n    this.roomId = roomId;\r\n  }\r\n\r\n  addTime(event: Event, time: number): void {\r\n    this.timeToSubmit += time;\r\n    this.rightVisibility = \"inherit\";\r\n    this.leftVisibility = \"inherit\";\r\n    if (this.timeToSubmit > 45 || this.timeToSubmit < 10) this.timeToSubmit -= time;\r\n    if (this.timeToSubmit == 45) {\r\n      this.rightVisibility = \"hidden\";\r\n    }\r\n    else if (this.timeToSubmit == 10) {\r\n      this.leftVisibility = \"hidden\";\r\n    }\r\n    this.timeRemaining.setMinutes(this.timeToSubmit);\r\n    this.timeRemaining = new Date(0, 0, 0, 0, this.timeToSubmit);\r\n  }\r\n\r\n  // start a session (from the server)\r\n  // remember this can come from anyone!\r\n  startSession(msg: any): void {\r\n    this.sessionId = msg[\"session_id\"];\r\n    this.timeRemaining = new Date(0, 0, 0, 0, msg[\"duration\"], 0);\r\n    this.timerService.startTimer();\r\n    if (this.timerSubscription != null) this.timerSubscription.unsubscribe();\r\n    this.timerSubscription = this.timerService.timerSource.subscribe(second => this.countdown());\r\n\r\n    this.leftVisibility = \"hidden\";\r\n    this.rightVisibility = \"hidden\";\r\n    this.startButtonDisplay = \"none\";\r\n    this.joinButtonDisplay = \"none\";\r\n\r\n    this.participants = msg[\"participants\"];\r\n\r\n    // reveal leave session button, participants\r\n    // TODO: the below could absolutely cause glitches if two people choose the same display name\r\n    if (this.participants.includes(sessionStorage.getItem(\"display_name\"))) this.leaveButtonDisplay = \"inherit\";\r\n\r\n    this.participantsDisplay = \"initial\";\r\n\r\n\r\n  }\r\n\r\n  joinSession(msg: any): void {\r\n    \r\n  }\r\n\r\n  leaveSession(msg: any): void {\r\n    if (msg[\"success\"] == true) {\r\n      this.sessionId = msg[\"session_id\"];\r\n\r\n      this.joinButtonDisplay = \"inherit\";\r\n      this.leaveButtonDisplay = \"none\";\r\n    }\r\n  }\r\n\r\n  // TODO END SESSION\r\n  endSession(msg: any) {\r\n\r\n  }\r\n\r\n  start(): void {\r\n    this.socketService.sendMessage({channel: \"timer\", type: \"start_session\", room_id: this.roomId, consumable: 0, duration: this.timeToSubmit, is_break: false});\r\n  }\r\n\r\n  join(): void {\r\n\r\n  }\r\n\r\n  leave(): void {\r\n    this.socketService.sendMessage({channel: \"timer\", type: \"leave_session\", room_id: this.roomId, session_id: this.sessionId});\r\n  }\r\n\r\n  countdown(): void {\r\n    let newDate = new Date(0, 0, 0, 0, this.timeRemaining.getMinutes(), 0);\r\n    if (this.timeRemaining.getSeconds() == 0) {\r\n      if (this.timeRemaining.getMinutes() == 0) {\r\n        this.socketService.sendMessage({channel: \"timer\", type: \"leave_session\", room_id: this.roomId, consumable: 0, duration: 25, is_break: false});\r\n        this.timeRemaining = new Date(0, 0, 0, 0, this.timeToSubmit);\r\n        this.timerService.stopTimer();\r\n        this.timerSubscription.unsubscribe();\r\n        this.leftVisibility = \"inherit\";\r\n        this.rightVisibility = \"inherit\";\r\n      }\r\n      else {\r\n        newDate.setSeconds(59);\r\n        newDate.setMinutes(this.timeRemaining.getMinutes() - 1);\r\n      }\r\n    }\r\n    else {\r\n      newDate.setSeconds(this.timeRemaining.getSeconds() - 1);\r\n    }\r\n    this.timeRemaining = newDate;\r\n  }\r\n\r\n}\r\n","<app-panel-header [header]=\"header\"></app-panel-header>\r\n\r\n<div id=\"not-in-session\">\r\n    <div id=\"host\">\r\n        <div id=\"consumable\"></div>\r\n        <h2 [ngStyle]=\"{ 'display': this.participantsDisplay }\">Participants:</h2>\r\n        <p id=\"participants\" *ngFor=\"let participant of participants; let isLast=last\" [ngStyle]=\"{ 'display': this.participantsDisplay }\">{{ participant }}{{ isLast ? '' : ', ' }}</p>\r\n        <h2>Active task:</h2>\r\n        <app-task [data]=\"this.activeTaskData\"></app-task>\r\n        <div id=\"time\">\r\n            <a tabindex=\"0\" id=\"left-arrow\" class=\"arrow\" [ngStyle]=\"{ 'visibility': this.leftVisibility }\" (click)=\"addTime($event, -5)\" (keydown.enter)=\"addTime($event, -5)\"><</a>\r\n            <div id=\"time-display\">{{ this.timeRemaining | date:'mm:ss'}}</div>\r\n            <a tabindex=\"0\" id=\"right-arrow\" class=\"arrow\" [ngStyle]=\"{ 'visibility': this.rightVisibility }\" (click)=\"addTime($event, 5)\" (keydown.enter)=\"addTime($event, 5)\">></a>\r\n        </div>\r\n        <div id=\"start\">\r\n            <button id=\"start-button\" [ngStyle]=\"{ 'display': this.startButtonDisplay }\" (click)=\"start()\">Start</button>\r\n            <button id=\"join-button\" [ngStyle]=\"{ 'display': this.joinButtonDisplay }\" (click)=\"join()\">Join</button>\r\n            <button id=\"leave-button\" [ngStyle]=\"{ 'display': this.leaveButtonDisplay }\" (click)=\"leave()\">Leave</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id=\"in-session\">\r\n\r\n</div>","import { Component, OnInit, Input, Output } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { activities } from './activities/activities';\r\nimport { MenuComponent } from './menu/menu.component';\r\n\r\n@Component({\r\n  selector: 'app-activity-container',\r\n  templateUrl: './activity-container.component.html',\r\n  styleUrls: ['./activity-container.component.css']\r\n})\r\nexport class ActivityContainerComponent implements OnInit {\r\n  location: Location;\r\n  activities: Array<string> = activities;\r\n\r\n  constructor(location: Location) {\r\n    this.location = location;\r\n    this.updateActivity.bind(this);\r\n    this.location.onUrlChange(this.updateActivity);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updateActivity(this.location.path(), this.location.getState());\r\n  }\r\n\r\n  updateActivity(url: string, state: unknown): void {\r\n    // ALERT: REDUNDANCY\r\n    let activity: string = MenuComponent.getActivity(url);\r\n    let visibleActivities: HTMLCollection = document.getElementsByClassName(\"visible\");\r\n    let i: number = 0;\r\n    for (let i: number = 0; i < visibleActivities.length; i++) {\r\n      let visibleActivity: Element = document.getElementsByClassName(\"visible\")[i];\r\n      visibleActivity.classList.remove(\"visible\");\r\n    }\r\n    if (activities.includes(activity)) {\r\n      let newVisibleActivity: Element = document.getElementById(activity);\r\n      newVisibleActivity.classList.add(\"visible\");\r\n    }\r\n  }\r\n\r\n}\r\n","<div class=\"activities\">\r\n    <app-store class=\"activity\" id=\"store\"></app-store>\r\n    <app-chat class=\"activity\" id=\"chat\"></app-chat>\r\n    <app-timer class=\"activity\" id=\"timer\"></app-timer>\r\n    <app-stats class=\"activity\" id=\"stats\"></app-stats>\r\n    <app-tasks class=\"activity\" id=\"tasks\"></app-tasks>\r\n    <app-settings class=\"activity\" id=\"settings\"></app-settings>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { SocketService } from '../../socket/socket.service';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.css']\r\n})\r\nexport class HeaderComponent implements OnInit {\r\n\r\n  socketService: SocketService;\r\n\r\n  constructor(socketService: SocketService) {\r\n    this.socketService = socketService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.socketService.reply.subscribe(msg => this.onResponseReceived(msg));\r\n  }\r\n\r\n  onResponseReceived(msg: any): void {\r\n    if (msg[\"password_correct\"] != null) {\r\n      if (msg[\"password_correct\"] == false) {\r\n        document.location.href = \"/auth/sign-in\";\r\n      }\r\n    }\r\n  }\r\n\r\n  signOut(): void {\r\n    let signOutMessage = {channel: \"auth\", type: \"sign_out\"}\r\n    this.socketService.sendMessage(signOutMessage)\r\n    sessionStorage.clear();\r\n    document.location.href = \"/\";\r\n  }\r\n\r\n}\r\n","<div class=\"header\">\r\n    <a href=\"/\" class=\"home\">\r\n        <img alt=\"Cowork\" src=\"../../../assets/icons/icon.png\" height=\"48\" width=\"48\" style=\"margin-left: -4px;\">\r\n    </a>\r\n    <nav class=\"options\">\r\n        <a (click)=\"signOut()\" tabindex=\"0\">Sign out</a>\r\n    </nav>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { MenuComponent } from './menu/menu.component';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  location: Location;\r\n\r\n  constructor(location: Location) {\r\n    this.location = location;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    if (this.location.path() == '/home') {\r\n      this.location.replaceState('/home/tasks');\r\n    }\r\n    this.updateActivity(this.location.path(), this.location.getState());\r\n    this.location.onUrlChange(this.updateActivity);\r\n  }\r\n\r\n  updateActivity(url: string, state: unknown): void {\r\n    window.history.pushState(null, url, url);\r\n    let activity: string = MenuComponent.getActivity(url);\r\n    console.log(activity);\r\n    if (activity == '') {\r\n      let activityContainer: Element = document.getElementById(\"activity-container\");\r\n      let room: Element = document.getElementsByClassName(\"room\")[0];\r\n      activityContainer.classList.add(\"invisible\");\r\n      room.classList.toggle(\"visible-mobile\");\r\n    }\r\n    else {\r\n      let activityContainer: Element = document.getElementById(\"activity-container\");\r\n      activityContainer.classList.remove(\"invisible\");\r\n      let room: Element = document.getElementsByClassName(\"room\")[0];\r\n      room.classList.remove(\"visible-mobile\");\r\n    }\r\n    \r\n  }\r\n\r\n  static getActivity(path: string): string {\r\n    let splitPath: string[] = path.split('/');\r\n    let activity: string = splitPath[2];\r\n    console.log(activity);\r\n    activity = activity.replace('/', '');\r\n    if (activity == '') {\r\n      activity = 'room';\r\n    }\r\n    return activity;\r\n  }\r\n\r\n}\r\n","<div class=\"home\">\r\n    <div class=\"header\">\r\n        <app-header></app-header>\r\n    </div>\r\n    <div class=\"app\">\r\n        <app-menu id=\"menu\"></app-menu>\r\n        <app-activity-container id=\"activity-container\"></app-activity-container>\r\n        <app-room id=\"room\"></app-room>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Location } from '@angular/common';\r\nimport { faHome, faStore, faComments, faHourglass, faChartPie, faTasks, faCalendar, faCog } from '@fortawesome/free-solid-svg-icons';\r\n\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.css']\r\n})\r\nexport class MenuComponent implements OnInit {\r\n  location: Location;\r\n  faHome = faHome;\r\n  faStore = faStore;\r\n  faComments = faComments;\r\n  faHourglass = faHourglass;\r\n  faChartPie = faChartPie;\r\n  faTasks = faTasks;\r\n  faCalendar = faCalendar;\r\n  faCog = faCog;\r\n\r\n  constructor(location: Location) {\r\n    this.location = location;\r\n    this.updateActivity.bind(this);\r\n    this.location.onUrlChange(this.updateActivity);\r\n  }\r\n\r\n  navigate(s: string, event: Event): void {\r\n    let activity: string = MenuComponent.getActivity(s);\r\n    event.preventDefault();\r\n    document.getElementById(activity + \"-nav\").blur();\r\n    this.location.replaceState(s);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.updateActivity(this.location.path(), this.location.getState());\r\n  }\r\n\r\n  updateActivity(url: string, state: unknown): void {\r\n    // ALERT: REDUNDANCY\r\n    let activity: string = MenuComponent.getActivity(url);\r\n    let selectedElements: HTMLCollection = document.getElementsByClassName(\"selected\");\r\n    let i: number = 0;\r\n    for (let i: number = 0; i < selectedElements.length; i++) {\r\n      let selectedElement: Element = selectedElements[i];\r\n      selectedElement.classList.remove(\"selected\");\r\n    }\r\n    let newVisibleActivity: Element = document.getElementById(activity + \"-nav\");\r\n    newVisibleActivity.classList.add(\"selected\");\r\n  }\r\n\r\n  static getActivity(path: string): string {\r\n    let splitPath: string[] = path.split('/');\r\n    let activity: string = splitPath[2];\r\n    activity = activity.replace('/', '');\r\n    return activity;\r\n  }\r\n\r\n}\r\n","<nav>\r\n    <a tabindex=\"0\" (keydown.enter)=\"navigate('/home', $event)\" (click)=\"navigate('/home', $event)\" id=\"room-nav\" href=\"/home\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-house-door\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M7.646 1.146a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 .146.354v7a.5.5 0 0 1-.5.5H9.5a.5.5 0 0 1-.5-.5v-4H7v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-7a.5.5 0 0 1 .146-.354l6-6zM2.5 7.707V14H6v-4a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4h3.5V7.707L8 2.207l-5.5 5.5z\"/>\r\n            <path fill-rule=\"evenodd\" d=\"M13 2.5V6l-2-2V2.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z\"/>\r\n        </svg>\r\n        <span>Test</span>\r\n    </a>\r\n    <a tabindex=\"0\" (keydown.enter)=\"navigate('/home/store', $event)\" (click)=\"navigate('/home/store', $event)\" id=\"store-nav\" href=\"/home/store\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-shop\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h1v-5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v5h6V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zM4 15h3v-5H4v5zm5-5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-3zm3 0h-2v3h2v-3z\"/>\r\n        </svg>\r\n        <span>Store</span>\r\n    </a>\r\n    <a tabindex=\"0\" (keydown.enter)=\"navigate('/home/chat', $event)\" (click)=\"navigate('/home/chat', $event)\" id=\"chat-nav\" href=\"/home/chat\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-chat\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z\"/>\r\n        </svg>\r\n        <span>Chat</span>\r\n    </a>\r\n    <a tabindex=\"0\" (keydown.enter)=\"navigate('/home/timer', $event)\" (click)=\"navigate('/home/timer', $event)\" id=\"timer-nav\" href=\"/home/timer\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-hourglass\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M2 1.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1-.5-.5zm2.5.5v1a3.5 3.5 0 0 0 1.989 3.158c.533.256 1.011.791 1.011 1.491v.702c0 .7-.478 1.235-1.011 1.491A3.5 3.5 0 0 0 4.5 13v1h7v-1a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351v-.702c0-.7.478-1.235 1.011-1.491A3.5 3.5 0 0 0 11.5 3V2h-7z\"/>\r\n        </svg>\r\n        <span>Timer</span>\r\n    </a>\r\n    <a tabindex=\"0\" (keydown.enter)=\"navigate('/home/stats', $event)\" (click)=\"navigate('/home/stats', $event)\" id=\"stats-nav\" href=\"/home/stats\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-graph-up\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M0 0h1v15h15v1H0V0zm10 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V4.9l-3.613 4.417a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61L13.445 4H10.5a.5.5 0 0 1-.5-.5z\"/>\r\n        </svg>\r\n        <span>Stats</span>\r\n    </a>\r\n    <a tabindex=\"0\" (keydown.enter)=\"navigate('/home/tasks',$event)\" (click)=\"navigate('/home/tasks', $event)\" id=\"tasks-nav\" href=\"/home/tasks\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-list-task\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5H2zM3 3H2v1h1V3z\"/>\r\n            <path d=\"M5 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9z\"/>\r\n            <path fill-rule=\"evenodd\" d=\"M1.5 7a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V7zM2 7h1v1H2V7zm0 3.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5H2zm1 .5H2v1h1v-1z\"/>\r\n        </svg>\r\n        <span>Tasks</span>\r\n    </a>\r\n    <a tabindex=\"0\" (keydown.enter)=\"navigate('/home/settings', $event)\" (click)=\"navigate('/home/settings', $event)\" id=\"settings-nav\" href=\"/home/settings\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-gear\" viewBox=\"0 0 16 16\">\r\n            <path fill-rule=\"evenodd\" d=\"M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z\"/>\r\n            <path fill-rule=\"evenodd\" d=\"M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z\"/>\r\n        </svg>\r\n        <span>Settings</span>\r\n    </a>\r\n</nav>","import { Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RoomChangeService {\r\n\r\n  changeSource: Subject<string> = new Subject<any>();\r\n  public roomId: Observable<string> = this.changeSource.asObservable();\r\n\r\n  currentRoomId: string;\r\n\r\n  constructor() { }\r\n\r\n  setRoom(roomId: string): void {\r\n    this.changeSource.next(roomId);\r\n    this.currentRoomId = roomId;\r\n  }\r\n}\r\n","export const images: Array<string> = ['floor.png', 'alien.png', 'bear.png', 'bear-shadow.png'];","// this might not be the best way to create these objects!\r\n// simply exists to return object that matches server's id\r\n// variant on factory pattern. May result in duplicate code; beware!\r\n\r\nimport { Player } from './root/player/player';\r\nimport { TileMap } from './root/tile-map'\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { GameObject, Vector } from 'kontra';\r\nimport { RoomComponent } from './room.component';\r\n\r\nexport class ObjectFactory {\r\n    socketService: SocketService;\r\n    room: RoomComponent;\r\n\r\n    constructor(room: RoomComponent, socketService: SocketService) {\r\n        this.room = room;\r\n        this.socketService = socketService;\r\n    }\r\n\r\n    makeObject(objects: any, data: any): GameObject {\r\n        let sceneId: number = data[\"scene_id\"];\r\n        let object: GameObject;\r\n        switch(sceneId) { \r\n            case 0: { \r\n                // tile map\r\n                object = new TileMap(data[\"width\"],\r\n                    data[\"height\"], data[\"layers\"], this.socketService);\r\n                break;\r\n            } \r\n            case 1: { \r\n                // player\r\n                console.log(data);\r\n                object = new Player(this.room, data[\"id\"], data[\"display_name\"], new Vector(data[\"translation_x\"], data[\"translation_y\"]));\r\n\r\n                /* create the task popup\r\n                OMITTED FOR USER TESTS--WILL ASK USERS WHAT THEY WOULD DO INSTEAD\r\n                \r\n                const componentFactory = this.componentFactoryResolver.resolveComponentFactory(TaskPopupComponent);\r\n\r\n                const viewContainerRef = this.taskHost.viewContainerRef;\r\n            \r\n                let componentRef: ComponentRef<TaskPopupComponent>;\r\n            \r\n                componentRef = viewContainerRef.createComponent(componentFactory, data.index);\r\n            \r\n                let instance: TaskPopupComponent = <TaskPopupComponent>componentRef.instance;\r\n                instance.data = data;\r\n                this.tasks.set(data.task_id, instance);\r\n                this.taskViewRefs.set(data.task_id, componentRef.hostView);\r\n                */\r\n                break; \r\n            }\r\n        }\r\n        return object;\r\n    }\r\n}","import { Component, ComponentFactoryResolver, ComponentRef, OnInit, ViewChild } from '@angular/core';\r\nimport { init, TileEngine, load, setImagePath, imageAssets, GameLoop, GameObject, Vector } from 'kontra';\r\nimport { Handler } from 'src/app/handler';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { RoomChangeService } from '../room-change.service';\r\n\r\nimport { images } from \"./images\";\r\n\r\nimport { ObjectFactory } from './object-factory'\r\nimport { Player } from './root/player/player';\r\nimport { PlayerTooltipDirective } from './root/player/player-tooltip.directive';\r\nimport { PlayerTooltipComponent } from './root/player/player-tooltip/player-tooltip.component';\r\n\r\nimport { TileMap } from './root/tile-map'\r\n\r\n@Component({\r\n  selector: 'app-room',\r\n  templateUrl: './room.component.html',\r\n  styleUrls: ['./room.component.css']\r\n})\r\n\r\nexport class RoomComponent extends Handler implements OnInit {\r\n\r\n  @ViewChild(PlayerTooltipDirective, { static: true }) public playerTooltipHost: PlayerTooltipDirective;\r\n\r\n  objects: Map<string, any>;\r\n\r\n  objectFactory: ObjectFactory;\r\n\r\n  roomChangeService: RoomChangeService;\r\n  socketService: SocketService;\r\n\r\n  componentFactoryResolver: ComponentFactoryResolver;\r\n\r\n  constructor(socketService: SocketService, roomChangeService: RoomChangeService, componentFactoryResolver: ComponentFactoryResolver) {\r\n    super();\r\n    this.socketService = socketService;\r\n    this.roomChangeService = roomChangeService;\r\n    this.objects = new Map<string, any>();\r\n    this.objectFactory = new ObjectFactory(this, socketService);\r\n    this.componentFactoryResolver = componentFactoryResolver;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    // register and observe socket channels\r\n    if (!this.socketService.channelIsRegistered(\"room\")) this.socketService.register(\"room\");\r\n    this.socketService.channelReply.get(\"room\").subscribe(msg => {\r\n      if (this[this.snakeToCamel(msg[\"type\"])] != undefined) this[this.snakeToCamel(msg[\"type\"])](msg);\r\n    });\r\n\r\n    this.roomChangeService.roomId.subscribe(msg => this.onRoomChange(msg));\r\n\r\n    let { canvas, context } = init();\r\n    canvas.width = canvas.clientWidth;\r\n    canvas.height = canvas.clientHeight;\r\n\r\n    setImagePath('/assets/room/');\r\n    load.apply(\r\n      null, images\r\n    );\r\n\r\n    document.onresize = function() {\r\n      canvas.width = canvas.clientWidth;\r\n      canvas.height = canvas.clientHeight;\r\n    };\r\n\r\n  }\r\n\r\n  addPersistObject(msg: any): void {\r\n    console.log(msg);\r\n    let object: any = this.objectFactory.makeObject(this.objects, msg[\"data\"]);\r\n    if (msg[\"data\"][\"parent_id\"] != null) {\r\n      this.objects.get(msg[\"data\"][\"parent_id\"]).addChild(object);\r\n    }\r\n    else {\r\n      let loop: GameLoop = GameLoop({\r\n        update: function() {\r\n          object.update();\r\n        },\r\n        render: function() {\r\n          object.render();\r\n        }\r\n      });\r\n    \r\n      // start the loop\r\n      loop.start();\r\n    }\r\n    this.objects.set(msg[\"data\"][\"id\"], object);\r\n  }\r\n  \r\n  modifyPersistObject(msg: any): void {\r\n\t  if (this.objects.has(msg[\"id\"])) {\r\n      let object: any = this.objects.get(msg[\"id\"]);\r\n      object[this.snakeToCamel(msg[\"method\"])](msg);\r\n    }\r\n  }\r\n\r\n  peerChangedActiveListing(msg: any): void {\r\n    let player: any = this.objects.get(msg[\"persist_object_id\"]);\r\n    if (msg[\"public\"] == true) {\r\n      let player: any = this.objects.get(msg[\"persist_object_id\"]);\r\n    }\r\n  }\r\n\r\n  removePersistObject(msg: any): void {\r\n    if (this.objects.has(msg[\"id\"])) {\r\n      let object: GameObject = this.objects.get(msg[\"id\"]);\r\n      object.parent.removeChild(object);\r\n    }\r\n  }\r\n\r\n  onRoomChange(roomId: string): void {\r\n  \r\n  }\r\n\r\n  openPlayerTooltip(displayName: string, id: string, position: Vector) {\r\n    let roomPosition: Vector = new Vector(document.getElementById(\"game\").offsetLeft, document.getElementById(\"game\").offsetTop);\r\n\r\n    let playerPositionCanvas: Vector = roomPosition.add(position).add(new Vector(64, 0));\r\n\r\n    const viewContainerRef = this.playerTooltipHost.viewContainerRef;\r\n    viewContainerRef.clear();\r\n\r\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(PlayerTooltipComponent);\r\n\r\n    let componentRef: ComponentRef<PlayerTooltipComponent>;\r\n\r\n    componentRef = viewContainerRef.createComponent(componentFactory);\r\n\r\n    let instance: PlayerTooltipComponent = <PlayerTooltipComponent>componentRef.instance;\r\n    instance.onClose = this.closePlayerTooltip.bind(this);\r\n    instance.displayName = displayName;\r\n    instance.id = id;\r\n    instance.position = playerPositionCanvas;\r\n  }\r\n\r\n  closePlayerTooltip() {\r\n    console.log(\"working on it luv\");\r\n    const viewContainerRef = this.playerTooltipHost.viewContainerRef;\r\n    viewContainerRef.clear();\r\n  }\r\n}\r\n","<div class=\"room\">\r\n    <canvas id=\"game\" width=\"128\" height=\"128\">\r\n        <button>Move North</button>\r\n        <button>Move South</button>\r\n        <button>Move East</button>\r\n        <button>Move West</button>\r\n        <div id=\"game-log\" role=\"log\">\r\n            \r\n        </div>\r\n    </canvas>\r\n    <ng-template appPlayerTooltip></ng-template>\r\n</div>","import { Directive, ViewContainerRef } from '@angular/core';\r\n\r\n@Directive({\r\n  selector: '[appPlayerTooltip]'\r\n})\r\nexport class PlayerTooltipDirective {\r\n  \r\n  public viewContainerRef: ViewContainerRef;\r\n\r\n  constructor(viewContainerRef: ViewContainerRef) {\r\n    this.viewContainerRef = viewContainerRef\r\n  }\r\n\r\n}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Vector } from 'kontra';\r\nimport { Subscription } from 'rxjs';\r\nimport { Handler } from 'src/app/handler';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\nimport { Player } from '../player';\r\n\r\n@Component({\r\n  selector: 'app-player-tooltip',\r\n  templateUrl: './player-tooltip.component.html',\r\n  styleUrls: ['./player-tooltip.component.css']\r\n})\r\nexport class PlayerTooltipComponent extends Handler implements OnInit, OnDestroy {\r\n\r\n  displayName: string;\r\n  id: string;\r\n  activeTaskData: any = {\"task_id\": null, \"title\": \"This user's active task is not currently available.\"};\r\n  position: Vector;\r\n\r\n  x: string;\r\n  y: string;\r\n\r\n  onClose: Function;\r\n\r\n  socketService: SocketService;\r\n\r\n  subscription: Subscription;\r\n\r\n  constructor(socketService: SocketService) {\r\n    super();\r\n    this.socketService = socketService;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    const width: number = 300;\r\n    const height: number = 150;\r\n\r\n    const marginBottom: number = 18;\r\n\r\n    this.subscription = this.socketService.channelReply.get(\"room\").subscribe(msg => {\r\n      if (msg[\"type\"] == \"request_active_task_for_account\") this[this.snakeToCamel(msg[\"type\"])](msg);\r\n    });\r\n\r\n    this.x = (this.position.x - (width / 2) - (32 / 2)).toString() + \"px\";\r\n    this.y = (this.position.y - height - marginBottom).toString() + \"px\";\r\n\r\n    this.socketService.sendMessage({ channel: \"tasks\", type: \"request_active_task_for_account\", \"persist_object_id\": this.id });\r\n  }\r\n\r\n  requestActiveTaskForAccount(msg: any): void {\r\n    this.activeTaskData = msg;\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscription.unsubscribe();\r\n  }\r\n\r\n}\r\n","<div class=\"tooltip\" [style.left]=\"this.x\" [style.top]=\"this.y\" cdkDrag>\r\n    <div class=\"tooltip-header\"><h3>{{ this.displayName }}</h3><a (keydown.enter)=\"this.onClose()\" (click)=\"this.onClose()\" class=\"close-task\">X</a></div>\r\n    <span>{{ this.displayName }} is currently working on:</span>\r\n    <app-task [isListing]=\"false\" [data]=\"this.activeTaskData\"></app-task>\r\n</div>","import { imageAssets, Sprite, SpriteSheet, track, Vector, Text, Button, getCanvas, getWorldRect } from 'kontra';\r\nimport { RoomComponent } from '../../room.component';\r\n\r\nconst speed: number = 5;\r\n\r\nexport class Player extends Sprite.class {\r\n    room: RoomComponent;\r\n    id: string;\r\n    displayName: string;\r\n    target: Vector;\r\n    direction: Vector;\r\n\r\n    playingAnimation: string;\r\n\r\n    shadow: Sprite;\r\n\r\n    constructor(room: RoomComponent, id: string, displayName: string, position: Vector) {\r\n        let spriteSheet = SpriteSheet({\r\n            image: imageAssets[\"bear\"],\r\n            frameWidth: 128,\r\n            frameHeight: 128,\r\n            animations: {\r\n                walkFR: {\r\n                    frames: '0..47',\r\n                    frameRate: 48\r\n                },\r\n                idleFR: {\r\n                    frames: '48..195',\r\n                    frameRate: 0\r\n                },\r\n                walkFL: {\r\n                    frames: '49..96',\r\n                    frameRate: 48\r\n                },\r\n                idleFL: {\r\n                    frames: '97..195',\r\n                    frameRate: 0\r\n                },\r\n                walkBR: {\r\n                    frames: '98..145',\r\n                    frameRate: 48\r\n                },\r\n                idleBR: {\r\n                    frames: '146...195',\r\n                    frameRate: 0\r\n                },\r\n                walkBL: {\r\n                    frames: '147..194',\r\n                    frameRate: 48\r\n                },\r\n                idleBL: {\r\n                    frames: '195..200',\r\n                    frameRate: 0\r\n                }\r\n            }\r\n        });\r\n\r\n        super({\r\n            type: 'player',\r\n            x: position.x,\r\n            y: position.y,\r\n            dx: 0,\r\n            dy: 0,\r\n            image: spriteSheet.frame[48],\r\n            animations: spriteSheet.animations,\r\n            children: [new Button({\r\n                // button properties\r\n                \r\n                room: room,\r\n                persistObjectId: id,\r\n                \r\n                padX: 64,\r\n                padY: 64,\r\n                color: \"transparent\",\r\n                onFocus: function() {\r\n                    // read out to the screen reader\r\n                },\r\n                render: function() {\r\n                    if (this.pressed) {\r\n                        if (!(this.previouslyPressed == true)) {\r\n                            this.previouslyPressed = true;\r\n                            // open their little profile\r\n                            // with current task etc.\r\n                            console.log(displayName);\r\n                            room.openPlayerTooltip(displayName, id, Vector(getWorldRect(this).x, getWorldRect(this).y));\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (this.previouslyPressed == true) {\r\n                            this.previouslyPressed = false;\r\n                            // close the tooltip specifically (must be THIS one--what about othr players?)\r\n                        }\r\n                    }\r\n\r\n\r\n                    if (this.hovered) {\r\n                        if (!(this.previouslyHovered == true)) {\r\n                            this.previouslyHovered = true;\r\n                            getCanvas().style.cursor = \"pointer\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (this.previouslyHovered == true) {\r\n                            this.previouslyHovered = false;\r\n                            getCanvas().style.cursor = \"initial\";\r\n                        }\r\n                    }\r\n\r\n                    if (this.focused) {\r\n                        this.context.setLineDash([8,10]);\r\n                        this.context.lineWidth = 3;\r\n                        this.context.strokeStyle = 'red';\r\n                        this.context.strokeRect(0, 0, this.width, this.height);\r\n                      }\r\n                }\r\n            })]\r\n        });\r\n\r\n        this.room = room;\r\n\r\n        this.playAnimation('idleFR');\r\n        this.playingAnimation = 'idleFR';\r\n\r\n        this.id = id;\r\n        this.displayName = displayName;\r\n        this.target = Vector(this.x, this.y);\r\n        track(this);\r\n\r\n        this.shadow = Sprite({\r\n            image: imageAssets[\"bear-shadow\"],\r\n            opacity: 0.5,\r\n            y: 96\r\n        });\r\n    }\r\n\r\n    update(): void {\r\n        let distance: number = this.target.distance(Vector(this.x, this.y));\r\n        // also cancel movement upon collision! maybe upon collision, set target to position?\r\n        if (distance > 4) {\r\n            this.velocity = Vector(this.direction.x * speed, this.direction.y * speed);\r\n        }\r\n        else if (!this.playingAnimation.includes('idle')) {\r\n            this.playingAnimation = this.playingAnimation.replace('walk', 'idle');\r\n            this.playAnimation(this.playingAnimation);\r\n            this.reportLocation();\r\n            this.target = Vector(this.x, this.y);\r\n            this.dx = 0;\r\n            this.dy = 0;\r\n        }\r\n        super.update();\r\n    }\r\n\r\n    draw(): void {\r\n        this.addChild(this.shadow);\r\n        this.shadow.render();\r\n        this.removeChild(this.shadow);\r\n\r\n        super.draw();\r\n\r\n        let nameTag: Text = new Text({\r\n            text: this.displayName,\r\n            font: '16px Arial',\r\n            color: 'black',\r\n            width: 128,\r\n            x: 0,\r\n            y: 128,\r\n            anchor: {x: 0, y: 0},\r\n            textAlign: 'center'\r\n        });\r\n\r\n        nameTag.render();\r\n        \r\n    }\r\n\r\n    setTarget(msg: any): void {\r\n        this.target = Vector(msg[\"position_x\"] - 128 / 2, msg[\"position_y\"] - 128 / 2);\r\n        this.direction = Vector(this.target.x - this.x, this.target.y - this.y).normalize();\r\n        let left: boolean = this.direction.x <= 0;\r\n        let right: boolean = !left;\r\n        let backward: boolean = this.direction.y <= 0;\r\n        let forward: boolean = !backward;\r\n        if (forward && right) {\r\n            this.playingAnimation = 'walkFR';\r\n        }\r\n        if (forward && left) {\r\n            this.playingAnimation = 'walkFL';\r\n        }\r\n        if (backward && right) {\r\n            this.playingAnimation = 'walkBR';\r\n        }\r\n        if (backward && left) {\r\n            this.playingAnimation = 'walkBL';\r\n        }\r\n        this.playAnimation(this.playingAnimation);\r\n    }\r\n\r\n    reportLocation(): void {\r\n        let log: HTMLElement = document.getElementById(\"game-log\");\r\n        let message: HTMLParagraphElement = document.createElement(\"p\");\r\n        message.innerHTML = this.displayName + \" is now at \" + Math.round(this.x) + \" on the x-axis and \" + Math.round(this.y) + \" on the y-axis.\";\r\n        log.appendChild(message);\r\n    }\r\n\r\n}","import { TileEngine, imageAssets, initPointer, track, getPointer, GameObject, onPointerUp, onPointerDown, Button } from 'kontra';\r\nimport { SocketService } from 'src/app/socket/socket.service';\r\n\r\nconst epsilon = 0.0000000000001;\r\n\r\nexport class TileMap extends GameObject.class {\r\n    socketService: SocketService;\r\n    tileEngine: TileEngine;\r\n\r\n    moveButton: Button;\r\n  \r\n    constructor(width: number, height: number, layers: object[], socketService: SocketService) {\r\n      super();\r\n      let img: HTMLImageElement = imageAssets['floor'];\r\n      this.tileEngine = TileEngine({\r\n        // tile size\r\n        tilewidth: 128,\r\n        tileheight: 128,\r\n    \r\n        // map size in tiles\r\n        width: width,\r\n        height: height,\r\n    \r\n        // tileset object\r\n        tilesets: [{\r\n          firstgid: 1,\r\n          image: img\r\n        }],\r\n    \r\n        // layer object\r\n        layers: layers,\r\n      });\r\n\r\n      this.socketService = socketService;\r\n      initPointer();\r\n\r\n      this.moveButton = new Button({\r\n        // button properties\r\n        socketService: socketService,\r\n        padX: width * this.tileEngine.tilewidth,\r\n        padY: height * this.tileEngine.tileheight,\r\n        color: \"red\",\r\n        onFocus: function() {\r\n            // read out to the screen reader\r\n        },\r\n        render: function() {\r\n            if (this.pressed) {\r\n              this.disable();\r\n              this.willEnable = false;\r\n              this.pressed = false;\r\n              let pointer: any = getPointer();\r\n              // this is pretty gross, but the server typechecks for floats\r\n              this.socketService.sendMessage({channel: \"room\", type: \"set_target\", position_x: (pointer.x + epsilon), position_y: (pointer.y + epsilon)})\r\n            }\r\n            else if (this.disabled && !this.willEnable) {\r\n              console.log(\"unpressed\");\r\n              this.willEnable = true;\r\n              new Promise(resolve => setTimeout(this.enable.bind(this), 300));\r\n            }\r\n        }\r\n    });\r\n\r\n    this.addChild(this.moveButton);\r\n    }\r\n\r\n    render(): void {\r\n      this.tileEngine.render();\r\n      this.moveButton.render();\r\n      super.render();\r\n    }\r\n\r\n    addChild(object: GameObject): void {\r\n      this.tileEngine.addObject(object);\r\n      super.addChild(object);\r\n      console.log(this.children);\r\n    }\r\n\r\n    removeChild(object: GameObject): void {\r\n      this.tileEngine.removeObject(object);\r\n      super.removeChild(object);\r\n    }\r\n  }","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-landing-page',\r\n  templateUrl: './landing-page.component.html',\r\n  styleUrls: ['./landing-page.component.css']\r\n})\r\nexport class LandingPageComponent implements OnInit {\r\n\r\n  loggedIn: boolean = sessionStorage.getItem(\"token\") != null;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void { }\r\n\r\n}\r\n","<div class=\"landing-page\">\r\n    <nav id=\"options\">\r\n        <div *ngIf=\"loggedIn; then thenBlock else elseBlock\"></div>\r\n        <ng-template #thenBlock><a href=\"/home\">Continue to Cowork</a></ng-template>\r\n        <ng-template #elseBlock><a href=\"/auth/sign-in\" id=\"entry-link\">Have an alpha account? Sign in</a></ng-template>\r\n    </nav>\r\n    <div class=\"statement\">\r\n        <h1>Cowork is coming soon.</h1>\r\n        <h2>We can't wait, either.</h2>\r\n    </div>\r\n</div>","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-panel-header',\r\n  templateUrl: './panel-header.component.html',\r\n  styleUrls: ['./panel-header.component.css']\r\n})\r\nexport class PanelHeaderComponent implements OnInit {\r\n  @Input() header: String;\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"header\">\r\n    <h1>{{ header }}</h1>\r\n</div>","import { Injectable, OnInit } from '@angular/core';\r\n\r\nimport { webSocket, WebSocketSubject } from 'rxjs/webSocket';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SocketService {\r\n\r\n  socket: WebSocketSubject<any>;\r\n\r\n  replySource: Subject<any>;\r\n  public reply: Observable<any>;\r\n\r\n  replySources: Map<string, Subject<any>>;\r\n  public channelReply: Map<string, Observable<any>>;\r\n\r\n  httpClient: HttpClient;\r\n\r\n  unsentMessages: Array<any> = [];\r\n  \r\n  constructor(httpClient: HttpClient) {\r\n    this.httpClient = httpClient;\r\n    this.replySource = new Subject<any>();\r\n    this.reply = this.replySource.asObservable();\r\n    this.replySources = new Map<string, Subject<any>>();\r\n    this.channelReply = new Map<string, Observable<any>>();\r\n    this.establishWebsocket();\r\n  }\r\n\r\n  establishWebsocket() {\r\n    this.httpClient.get('https://ws.cowork.ac', {responseType: 'text', withCredentials: true}).subscribe(data => {\r\n      this.socket = webSocket('wss://ws.cowork.ac:4433');\r\n\r\n      this.socket.subscribe(\r\n        msg => {\r\n\r\n          if (msg[\"password_correct\"] == true) {\r\n            sessionStorage.setItem(\"username\", msg[\"username\"]);\r\n            sessionStorage.setItem(\"display_name\", msg[\"display_name\"]);\r\n          }\r\n\r\n          this.setResponse(msg);\r\n\r\n          // in the future, the below should be the only way to get messages.\r\n          // classes should subscribe to individual channels.\r\n          let channel: string = msg[\"channel\"];\r\n          if (this.channelIsRegistered(channel)) {\r\n            this.replySources.get(channel).next(msg);\r\n          }\r\n        },\r\n        err => console.log(err),\r\n        () => console.log('complete')\r\n      );\r\n\r\n      while (this.unsentMessages.length > 0) {\r\n        this.sendMessage(this.unsentMessages.pop());\r\n      }\r\n    });\r\n  }\r\n\r\n  setResponse(msg: any) {\r\n    this.replySource.next(msg);\r\n  }\r\n\r\n  sendMessage(msg: any): void {\r\n    if (this.socket === undefined) {\r\n      this.unsentMessages.push(msg);\r\n    }\r\n    else {\r\n      this.socket.next(msg);\r\n    }\r\n  }\r\n\r\n  channelIsRegistered(channel: string) {\r\n    return this.replySources.has(channel);\r\n  }\r\n\r\n  register(channel: string) {\r\n    this.replySources.set(channel, new Subject<any>());\r\n    this.channelReply.set(channel, this.replySources.get(channel).asObservable());\r\n  }\r\n}\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { Inject, Injectable } from '@angular/core';\r\nimport { Observable, Subject } from 'rxjs';\r\n\r\nexport interface monetizedDocument extends Document {monetization: any}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class WebMonetizationService {\r\n  monetizationSource: Subject<string>;\r\n  public monetization: Observable<string>;\r\n  document: monetizedDocument;\r\n\r\n  constructor(@Inject(DOCUMENT) document: Document) {\r\n    this.document = <monetizedDocument> document;\r\n    this.monetizationSource = new Subject<string>();\r\n    this.monetization = this.monetizationSource.asObservable();\r\n    if (this.webMonetizationExists()) {\r\n      this.document.monetization.addEventListener('monetizationpending', (paymentPointer: string, requestId: string) => this.monetizationSource.next(\"pending\"));\r\n      this.document.monetization.addEventListener('monetizationstart', (paymentPointer: string, requestId: string) => this.monetizationSource.next(\"started\"));\r\n      this.document.monetization.addEventListener('monetizationstop', (paymentPointer: string, requestId: string) => this.monetizationSource.next(\"stopped\"));\r\n    }\r\n  }\r\n\r\n  public webMonetizationExists(): boolean {\r\n    return !!this.document && !!this.document.monetization;\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}